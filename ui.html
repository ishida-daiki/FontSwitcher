<style>
  /* Reset CSS */
  html,
  body,
  div,
  span,
  object,
  iframe,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  p,
  blockquote,
  pre,
  abbr,
  address,
  cite,
  code,
  del,
  dfn,
  em,
  img,
  ins,
  kbd,
  q,
  samp,
  small,
  strong,
  sub,
  sup,
  var,
  b,
  i,
  dl,
  dt,
  dd,
  ol,
  ul,
  li,
  fieldset,
  form,
  label,
  legend,
  table,
  caption,
  tbody,
  tfoot,
  thead,
  tr,
  th,
  td,
  article,
  aside,
  canvas,
  details,
  figcaption,
  figure,
  footer,
  header,
  hgroup,
  menu,
  nav,
  section,
  summary,
  time,
  mark,
  audio,
  video {
    margin: 0;
    padding: 0;
    border: 0;
    outline: 0;
    font-size: 100%;
    vertical-align: baseline;
    background: transparent;
    list-style: none;
  }
  body {
    margin: 0;
    background-color: var(--figma-color-bg);
    color: var(--figma-color-text);
    font-family: "Inter";
    font-size: 11px;
    font-weight: 400;
    width: 100%;
    overflow-y: hidden;
    display: flex;
  }
  /* „É°„Éã„É•„Éº„ÅåÈñã„ÅÑ„Å¶„ÅÑ„ÇãÈñì„ÅØhover„Çπ„Çø„Ç§„É´„ÇíÁÑ°Âäπ„Å´„Åô„Çã */
  body.menu-open .apply-style__item:hover,
  body.menu-open .apply-style__options-button:hover {
    outline: none;
    background: none;
  }
  /* Webkit„Éô„Éº„Çπ„ÅÆ„Éñ„É©„Ç¶„Ç∂Áî® */
  .scrollbar-hidden::-webkit-scrollbar {
    display: none; /* „Çπ„ÇØ„É≠„Éº„É´„Éê„Éº„ÇíÈùûË°®Á§∫ */
  }

  /* FirefoxÁî® */
  .scrollbar-hidden {
    scrollbar-width: none; /* Firefox„Åß„ÅØ„Åì„Çå„Åß„Çπ„ÇØ„É≠„Éº„É´„Éê„Éº„ÇíÈùûË°®Á§∫„Å´„Åß„Åç„Çã */
  }

  /* IE„Åä„Çà„Å≥Edge„É¨„Ç¨„Ç∑„Éº„Éñ„É©„Ç¶„Ç∂Áî® */
  .scrollbar-hidden {
    -ms-overflow-style: none; /* Âè§„ÅÑIE„Å®EdgeÁî® */
  }
  svg {
    display: block;
  }
  .main {
    width: 324px;
    border-right: 1px solid var(--figma-color-border);
  }
  .overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: 9;
  }
  .tab-list {
    position: relative;
    border-bottom: 1px var(--figma-color-border) solid;
    padding-left: 1rem;
    padding-right: 1rem;
    height: 40px;
  }
  .tab-list__items {
    display: flex;
    gap: 8px;
    color: var(--figma-color-text-onselected);
    height: 100%;
  }
  .tab-list__item {
    display: flex;
    align-items: center;
    margin-right: 0.5rem;
    cursor: default;
    height: 100%;
    color: var(--figma-color-text-disabled);
  }
  .tab-list__item:hover {
    color: var(--figma-color-text);
  }
  .tab-list__text {
    font-size: 11px;
    font-weight: 500;
  }
  /* ÈÅ∏Êäû„Åï„Çå„Åü„Çø„Éñ„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„Çπ„Çø„Ç§„É´ */
  .tab-list__item--active .tab-list__text {
    /* Â§™Â≠ó„Å´„Åô„Çã */
    font-weight: 600;
    color: var(--figma-color-text);
  }
  /* ÈÅ∏Êäû„Ç§„É≥„Ç∏„Ç±„Éº„Çø„Éº„ÅÆ„Çπ„Çø„Ç§„É´ */
  .tab-list-active-indicator {
    height: 2px;
    background: var(--figma-color-border-onselected-strong);
    width: 100%;
    border-radius: 6px;
    position: absolute;
    bottom: -1px;
    left: 0;
  }
  /* Èùû„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å™„Çø„Éñ„ÇíÈö†„Åô */
  .tab-list-active-indicator--inactive {
    display: none;
  }
  .create-style__apply-button {
    padding: 0.8rem 1.5rem;
    margin: 8 16 16 16px;
    border-radius: 6px;
    font-weight: 600;
  }
  .create-style__apply-button.disabled {
    border: var(--figma-color-border-disabled);
    color: var(--figma-color-text-disabled);
    background: var(--figma-color-bg-disabled);
  }
  .create-style__apply-button.active {
    border: var(--figma-color-border-selected);
    color: var(--figma-color-text-onbrand);
    background: var(--figma-color-bg-brand);
  }
  .create-style__apply-button.active:hover {
    cursor: default;
    border: var(--figma-color-border-selected);
    background: var(--figma-color-bg-brand-hover);
  }
  .create-style__apply-button.active:active {
    color: var(--figma-color-text-onbrand);
    background: var(--figma-color-bg-brand-pressed);
  }
  .apply-style {
    display: flex;
    flex-direction: column;
  }
  .create-style {
    display: flex;
    flex-direction: column;
  }
  .error {
    color: var(--figma-color-text-danger);
  }
  .apply-style__text {
    color: var(--figma-color-text-disabled);
    font-weight: 400;
  }
  .apply-style__content {
    display: flex;
    flex-direction: column;
    padding: 8 0px;
  }
  .create-style__content {
    display: flex;
    flex-direction: column;
    padding: 8 0px;
  }
  .apply-style__title {
    font-weight: 600;
    line-height: 16px;
    letter-spacing: 0.06px;
  }
  .create-style__tab-title {
    font-weight: 600;
    line-height: 16px;
    letter-spacing: 0.06px;
  }
  .apply-style__item-content {
    display: flex;
    justify-content: space-between;
    cursor: default;
    padding: 0 8px;
    border-radius: 2px;
    align-items: center;
    height: 30px;
    flex-grow: 2;
  }
  .apply-style__list {
    display: flex;
    flex-direction: column;
    position: relative;
    height: 200px;
    overflow-y: hidden;
  }
  .apply-style__item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: relative;
    box-sizing: border-box;
    outline: 1px solid transparent;
    outline-offset: -1px;
    min-height: 40px;
    padding: 0 8px;
  }
  .apply-style__item:hover {
    outline: 1px solid var(--figma-color-border-selected, #0c8ce9);
    opacity: 1;
  }
  .apply-style__item:focus-visible {
    background: var(--figma-color-bg-selected);
    color: var(--figma-color-text);
  }
  .apply-style__item.active {
    background: var(--figma-color-bg-selected, rgba(0, 0, 0, 0.06));
    outline: 1px solid transparent;
  }
  .apply-style__item.active .apply-style__options-button:hover {
    background: var(--figma-color-bg-selected-hover, rgba(0, 0, 0, 0.06));
  }
  .apply-style__item-title {
    color: var(--figma-color-text);
    font-weight: 400;
    letter-spacing: 0.055px;
  }
  .apply-style__options-button {
    right: 8;
    border: 1px solid transparent;
    outline: none;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 32px;
    width: 32px;
    flex: 0 0 32px;
    cursor: default;
    border-radius: 2px;
    background-clip: padding-box;
    background-color: transparent;
    transition: 0.1s fill ease-out, 0.1s color ease-out;
  }
  .apply-style__options-button:hover {
    background: var(--figma-color-bg-hover, rgba(0, 0, 0, 0.06));
  }
  .apply-style__options-button.active {
    background: var(--figma-color-bg-brand, #0d99ff);
  }
  .apply-style__options-button.active .apply-style__options-svg {
    fill: var(--figma-color-icon-onbrand);
  }
  /* „Éú„Çø„É≥„Åå„Éõ„Éê„Éº„Åï„Çå„ÅüÊôÇ„Å´„Éù„ÉÉ„Éó„Ç¢„ÉÉ„Éó„ÇíË°®Á§∫„Åô„Çã */
  .apply-style__options-button:hover + .apply-style__popup {
    display: block;
  }

  .apply-style__options-button.active ~ .menu {
    display: block; /* „Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å™Áä∂ÊÖã„ÅÆ„Éú„Çø„É≥„ÅÆÂÖÑÂºüË¶ÅÁ¥†„Åß„ÅÇ„Çãmenu„ÇíË°®Á§∫ */
  }

  .scroll_container--track--HEzfy {
    position: absolute;
    right: 0;
    top: 0;
    bottom: 0;
    width: 6px;
    padding: 2px;
    cursor: default;
    z-index: 7;
  }
  .scroll_container--scrollBar--YLWIi {
    display: none;
    position: absolute;
    width: 6px;
    right: 2px;
    top: 0;
  }
  .scroll_container--scrollBar--YLWIi:after {
    content: "";
    position: absolute;
    inset: 2px 0;
    width: 100%;
    border-radius: 6px;
    background: rgba(179, 179, 179, 0.5);
  }

  .apply-style__message {
    display: grid;
    place-content: center;
    height: 96px;
    background-color: var(--figma-color-bg-secondary);
    padding: 0 16px;
    line-height: 1.5;
    border-bottom: 1px var(--figma-color-border) solid;
  }
  .center {
    text-align: center;
  }
  .text {
    padding-top: 1px;
    color: var(--figma-color-text-disabled);
    pointer-events: none;
  }
  .apply-style__options-svg {
    fill: var(--figma-color-icon);
  }
  /* „É≠„Éº„Éá„Ç£„É≥„Ç∞„Ç§„É≥„Ç∏„Ç±„Éº„Çø„Éº„ÅÆ„Çπ„Çø„Ç§„É´ */
  .loading-indicator {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--figma-color-bg-inverse);
    display: flex;
    flex-direction: column;
    align-content: center;
    align-items: center;
    opacity: 95%;
  }
  .progress-ring {
    width: 240px;
    height: 240px;
  }
  .progress-ring__circle {
    transition: stroke-dashoffset 0.35s;
    transform: rotate(-90deg);
    transform-origin: 50% 50%;
  }
  .progress-text {
    color: var(--figma-color-text-oninverse);
  }
  .select-content {
    display: flex;
  }

  /* Additional styles for 'select' dropdown */
  .select-container {
    position: relative;
    margin-bottom: 10px;
  }

  .select-dropdown {
    padding: 4px;
    border: 1px solid var(--figma-color-border);
    background-color: var(--figma-color-bg);
    border-radius: 4px;
    width: 100%;
    font-family: "Inter", sans-serif;
    font-size: 11px;
    cursor: default;
    appearance: none; /* Disables the native drop-down arrow */
  }

  .select-dropdown:focus {
    outline: none;
    border-color: var(--figma-color-border-focus);
  }

  /* Style for custom dropdown arrow */
  .select-arrow {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none; /* Makes sure the svg does not prevent clicking the select box */
  }

  .select-arrow svg {
    fill: var(--figma-color-icon); /* Icon color */
  }

  .create-style.font-family {
    display: flex;
    flex-direction: column;
    max-height: 295px;
    top: calc(100% + 1px);
    -webkit-font-smoothing: antialiased;
    pointer-events: none;
    background-color: #1e1e1e;
    border-radius: var(--border-radius-2);
    box-shadow: var(--box-shadow-menu);
    color: #fff;
    font-size: var(--font-size-12);
    left: 0;
    min-width: 100%;
    overflow-y: auto;
    padding: var(--space-extra-small) 0;
    position: absolute;
  }
  .font-family_label {
    position: relative;
    padding: 4px var(--space-medium) 4px 32px;
    text-overflow: ellipsis;
    white-space: nowrap;
    display: block;
  }

  .font-family_labelText {
    display: block;
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    height: 100%;
    width: 100%;
  }

  .create-style__font-menu {
    background: var(--figma-color-bg);
    box-shadow: 0px 5px 17px rgba(0, 0, 0, 0.2);
    border-radius: 2px;
    z-index: 100;
    overflow-y: auto;
  }
  .create-style__font-menu.font-family-list-container {
    position: absolute;
    right: 24px;
    left: 24px;
    top: 24px;
    bottom: 24px;
    padding-top: 8px;
    padding-bottom: 8px;
    display: flex;
    flex-direction: column;
  }
  .create-style__font-menu.font-family-list-container.hidden {
    display: none;
  }
  .create-style__font-menu.font-weight-list-container {
    position: absolute;
    right: 8px;
    width: 178px;
    padding-top: 8px;
    padding-bottom: 8px;
    max-height: 164px;
  }

  .scroll_container > .font-menu__item {
    width: 100%;
    min-height: 28px;
    position: relative;
    display: flex;
    align-items: center;
  }
  .scroll_container > .font-menu__item:hover {
    background: var(--figma-color-bg-hover);
  }
  .font-menu__item {
    width: 100%;
    min-height: 24px;
    position: relative;
    display: flex;
    align-items: center;
  }
  .font-menu__item:hover {
    background: #18a0fb;
  }
  .menu {
    width: 178px;
    padding-top: 8px;
    padding-bottom: 8px;
    background: #222222;
    box-shadow: 0px 5px 17px rgba(0, 0, 0, 0.2);
    border-radius: 2px;
    color: var(--figma-color-text-onbrand);
    position: absolute;
    right: 8px;
    max-height: 164px;
    overflow-y: auto;
    display: none;
    z-index: 10;
    top: 40px;
  }

  .menu__item {
    height: 24px;
    position: relative;
    display: flex;
    align-items: center;
    padding: 0 16px;
  }
  .menu__item:hover {
    background: #18a0fb;
  }
  .menu__item__divider {
    height: 17px;
    position: relative;
    display: flex;
    align-items: center;
  }
  .menu__divider {
    position: absolute;
    height: 1px;
    width: 100%;
    left: 0px;
    background: rgba(255, 255, 255, 0.2);
  }

  .font-menu__item__icon {
    position: absolute;
    left: 8px;
    width: 20px;
    height: 16px;
  }

  .font-menu__divider {
    width: 100%;
    height: 17px;
    position: relative;
    display: flex;
    align-items: center;
  }
  .font-menu__divider_item {
    width: 100%;
    border: 1px rgba(255, 255, 255, 0.2) solid;
  }

  .font-menu__text {
    display: flex;
    align-items: center;
    width: 100%;
    height: 100%;
    left: 32px;
    top: 0px;
    position: absolute;
    color: var(--color-text);
    font-size: 12px;
    font-family: Inter;
    font-weight: 400;
    line-height: 16px;
    letter-spacing: 0.06px;
    word-wrap: break-word;
  }

  .font-menu__icon {
    width: 16px;
    height: 16px;
    left: 8px;
    top: 4px;
    position: absolute;
  }

  .font-menu__icon-img {
    width: 9.91px;
    height: 7.62px;
    left: 3.29px;
    top: 3.79px;
    position: absolute;
  }
  /* ÈùûË°®Á§∫„Å´„Åô„Çã„Åü„ÇÅ„ÅÆ„ÇØ„É©„Çπ */
  .hidden {
    display: none;
  }
  /* „É´„Éº„ÉàË¶ÅÁ¥† (Block) */
  .apply-style__styles {
    height: 32px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: relative;
    padding: 0 8 0 16px;
  }
  /* „É´„Éº„ÉàË¶ÅÁ¥† (Block) */
  .create-style__tab-header {
    height: 32px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: relative;
    padding: 0 8 0 16px;
  }
  /* „É´„Éº„ÉàË¶ÅÁ¥† (Block) */
  .create-style__styles {
    height: 32px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: relative;
    padding: 0 8 0 16px;
    color: var(--figma-color-text-secondary);
    font-weight: 500;
  }

  /* „Éù„ÉÉ„Éó„Ç¢„ÉÉ„Éó„Ç≥„É≥„ÉÜ„Éä (Element) */
  .apply-style__popup {
    position: absolute;
    bottom: -34px;
    right: 8px;
    display: none;
    z-index: 100;
    border-radius: 2px;
    z-index: 10;
  }
  .apply-style__popup.edit {
    right: 40px;
  }
  .apply-style__popup.delete {
    right: 8px;
  }

  /* „Éù„ÉÉ„Éó„Ç¢„ÉÉ„Éó„Ç≥„É≥„ÉÜ„Éä (Element Modifier) */
  .apply-style__popup:hover {
    display: block;
  }

  /* „Éù„ÉÉ„Éó„Ç¢„ÉÉ„Éó„Ç¢„É≠„Éº„ÅÆ„Ç≥„É≥„ÉÜ„Éä (Element) */
  .apply-style__popup-arrow-container {
    position: relative;
  }

  /* „Éù„ÉÉ„Éó„Ç¢„ÉÉ„Éó„ÅÆÂÜÖÂÆπ (Element) */
  .apply-style__popup-content {
    height: 28px;
    background: #222222;
    color: #ffffff;
    box-shadow: 0px 2px 7px rgba(0, 0, 0, 0.15);
    padding: 0 8px;
    display: flex;
    align-items: center;
  }

  /* „Éù„ÉÉ„Éó„Ç¢„ÉÉ„Éó„Ç¢„É≠„Éº (Element) */
  .apply-style__popup-arrow {
    position: absolute;
    top: -6px;
    right: 10;
  }
  /* Dropdown Component Styles */
  .create-style__dropdown {
    /* „Çπ„Çø„Ç§„É´„Ç∑„Éº„Éà„ÅÆ„É™„Çª„ÉÉ„Éà„ÇÑËøΩÂä†„ÅÆ„Çπ„Çø„Ç§„É™„É≥„Ç∞„ÅåÂøÖË¶Å„Å™Â†¥Âêà„ÅØ„Åì„Åì„Å´Ë®òËø∞ */
    display: flex;
    margin: 0 16 0 8px;
    align-items: flex-start;
  }

  .create-style__dropdown-toggle {
    font-size: 11px;
    display: flex;
    align-items: center;
    padding-right: 4px;
    color: var(--figma-color-text, #333333);
    fill: var(--figma-color-icon, #333333);
    border-radius: 2px;
    cursor: default;
    box-sizing: border-box;
    background-clip: padding-box;
    height: 28px;
    border: 1px solid transparent;
    border-radius: 2px;
    position: relative;
    box-sizing: border-box;
    margin-top: 1px;
    padding: 0 4 0 8px;
    margin: 1 0px;
    background: transparent;
  }
  .create-style__dropdown-toggle.font-weight {
    flex-grow: 1;
    appearance: none; /* „Éñ„É©„Ç¶„Ç∂„Éá„Éï„Ç©„É´„Éà„ÅÆ„Çπ„Çø„Ç§„É´„ÇíËß£Èô§ */
  }

  .create-style__dropdown-toggle.font-family:hover,
  .create-style__dropdown-toggle.font-family:active {
    /* „Éõ„Éê„Éº„ÇÑ„Éï„Ç©„Éº„Ç´„ÇπÊôÇ„ÅÆËøΩÂä†„Çπ„Çø„Ç§„É´„ÄÇ‰æã„Åà„Å∞ËÉåÊôØËâ≤„ÇíÂ§âÊõ¥„Åô„Çã„Å™„Å© */
    background: var(--figma-color-bg-hover);
  }
  .create-style__dropdown-toggle.font-family:focus-visible {
    border: 2px solid var(--figma-color-border-selected);
  }
  .create-style__dropdown-toggle.font-weight:hover,
  .create-style__dropdown-toggle.font-weight:active {
    border: 1px solid var(--figma-color-border, rgba(0, 0, 0, 0.1));
    justify-content: space-between;
  }

  .create-style__dropdown-label {
    max-width: calc(100% - 12px); /* „Ç¢„Ç§„Ç≥„É≥„ÅÆÂπÖ„ÇíËÄÉÊÖÆ„Åó„ÅüÂπÖ„ÇíË®≠ÂÆö */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .create-style__dropdown-icon-container {
    width: 16px;
    flex: 0 0 16px;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    color: var(--figma-color-icon-disabled);
    fill: var(--figma-color-icon-disabled);
  }

  .create-style__dropdown-icon {
    width: 16px; /* SVG„ÅÆÂ§ß„Åç„Åï„ÇíÊåáÂÆö */
    margin-left: auto; /* „Ç¢„Ç§„Ç≥„É≥„ÇíÂè≥ÂØÑ„Åõ„Åô„Çã */
  }
  .create-style__dropdown-group.font-family {
    display: flex;
    flex-direction: column;
    flex-grow: 3;
    width: 180px;
  }
  .create-style__dropdown-group.font-weight {
    display: flex;
    flex-direction: column;
    flex-grow: 1;
    width: 120px;
  }
  .create-style__input-group {
    box-sizing: border-box;
    padding: 16px;
    width: 100%;
    height: max-content;
    background-color: transparent;
    display: flex;
    flex-direction: row;
    -webkit-box-pack: justify;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid var(--figma-color-border);
  }
  .create-style__label {
    -webkit-user-select: none;
    user-select: none;
    text-align: left;
    color: var(--figma-color-text, #333333);
    fill: var(--figma-color-icon, #333333);
    border-radius: 2px;
    cursor: default;
    box-sizing: border-box;
    background-clip: padding-box;
  }
  .create-style__input {
    grid-column-start: 1;
    padding: 0 8px;
    margin: 1 0px;
    border: 1px solid var(--figma-color-border);
    width: calc(100% - 96px);
    background-color: var(--color-bg);
    grid-column-end: span 28;
    color: var(--figma-color-text);
    fill: var(--figma-color-icon);
    border-radius: 2px;
    cursor: default;
    box-sizing: border-box;
    background-clip: padding-box;
    height: 28px;
    font-size: 11px;
    border-radius: 2px;
  }
  .create-style__input:focus-visible {
    height: 30px;
    margin-top: 0;
    margin-bottom: 0;
    border: 1px solid var(--figma-color-border-selected, #0d99ff);
    outline: 1px solid var(--figma-color-border-selected, #0d99ff);
    outline-offset: -2px;
  }
  .create-style__submit-button {
    color: var(--figma-color-text-onbrand, #fff);
    background-color: var(--figma-color-bg-brand);
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    height: 32px;
    line-height: 32px;
    max-width: 200px;
    padding: 0 12px;
    border-radius: 6px;
    -moz-outline-radius: 6px;
    cursor: default;
    -webkit-user-select: none;
    user-select: none;
  }
  .create-style__form-action {
    box-sizing: border-box;
    mix-blend-mode: normal;
    overflow: hidden;
    position: relative;
    padding: 16px;
    display: flex;
    flex-direction: row;
    -webkit-box-pack: justify;
    justify-content: space-between;
    -webkit-box-align: center;
    align-items: center;
    border-top: 1px solid var(--figma-color-border);
  }
  .create-style__tabs {
    padding: 8 0px;
    display: flex;
    flex-direction: column;
  }
  input::placeholder {
    color: var(
      --figma-color-text-tertiary,
      #0000004d
    ); /* Â•Ω„Åç„Å™ËñÑ„ÅÑËâ≤„Å´Â§âÊõ¥„Åó„Å¶„Åè„Å†„Åï„ÅÑ */
    opacity: 1; /* ‰∏çÈÄèÊòéÂ∫¶„ÇíË®≠ÂÆö„Åô„Çã„Åì„Å®„ÇÇ„Åß„Åç„Åæ„ÅôÔºàÂøÖÈ†à„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„ÇìÔºâ */
  }

  .font_picker--fontPickerSearchRow--PBwi7 {
    color: var(--figma-color-icon);
    padding-left: 16px;
    padding-right: 12px;
    min-height: 40px;
    display: flex;
    align-items: center;
    border-bottom: 1px solid var(--figma-color-border);
  }
  .font_picker--searchIcon--ADEyj {
    padding-right: 2px;
    fill: var(--figma-color-icon);
  }
  .font_picker--fontPickerSearchBar--XigbT {
    margin-left: 8px;
    margin-right: 5px;
    width: 100%;
  }
  .font_picker--fontPickerSearchBarInput--qOPld {
    font-weight: 400;
    width: 100%;
    background-color: var(--figma-color-bg);
    color: var(--figma-color-text);
    height: 15px;
    border: none;
    padding: 0px;
  }
  .font_picker--fontPickerSearchBarInput--qOPld:focus {
    outline: 0px;
  }
  .scroll_container {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    overflow-y: auto;
  }
  .sample-style__message {
    display: grid;
    place-content: center;
    background-color: var(--figma-color-bg-secondary);
    padding: 0 16px;
    line-height: 1.5;
    border-bottom: 1px var(--figma-color-border) solid;
    font-weight: 400;
    color: var(--figma-color-text-disabled);
    overflow: auto;
    flex: 1;
  }
  .sample-style__tab-header {
    height: 40px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: relative;
    padding: 0 8 0 16px;
    border-bottom: 1px solid var(--figma-color-border);
  }
  .sample-text-container {
    width: 324px;
    display: none;
    flex-direction: column;
    justify-content: space-between;
  }
  .sample-text__input-group {
    box-sizing: border-box;
    padding: 8 0 16 0px;
    width: 100%;
    height: max-content;
    background-color: transparent;
    display: flex;
    flex-direction: column;
    -webkit-box-pack: justify;
    justify-content: space-between;
    align-items: flex-start;
    border-bottom: 1px solid var(--figma-color-border);
    flex: 1;
  }
  .sample-style__input {
    grid-column-start: 1;
    padding: 8px;
    margin: 0 16px;
    border: 1px solid var(--figma-color-border);
    background-color: var(--color-bg);
    grid-column-end: span 28;
    color: var(--figma-color-text);
    fill: var(--figma-color-icon);
    cursor: default;
    box-sizing: border-box;
    background-clip: padding-box;
    font-family: Inter;
    font-size: 11px;
    line-height: 175%;
    border-radius: 2px;
    width: -webkit-fill-available;
    resize: none;
    flex: 1;
  }
  .sample-style__input:focus-visible {
    margin-top: 0;
    margin-bottom: 0;
    border: 1px solid var(--figma-color-border-selected, #0d99ff);
    outline: 1px solid var(--figma-color-border-selected, #0d99ff);
    outline-offset: -2px;
  }
  .sample-style__label {
    -webkit-user-select: none;
    user-select: none;
    text-align: left;
    color: var(--figma-color-text, #333333);
    fill: var(--figma-color-icon, #333333);
    border-radius: 2px;
    cursor: default;
    box-sizing: border-box;
    background-clip: padding-box;
  }
  .sample-style__content {
    display: flex;
    flex-direction: column;
  }
  .sample-style__tabs {
    display: flex;
    flex-direction: column;
    flex: 1;
  }
  .sample-language-menu {
    position: absolute;
    right: 8px;
    width: 178px;
    padding-top: 8px;
    padding-bottom: 8px;
    max-height: 164px;
    background: var(--figma-color-bg);
    box-shadow: 0px 5px 17px¬†rgba(0, 0, 0, 0.2);
    border-radius: 2px;
    z-index: 100;
    overflow-y: auto;
  }
</style>

<body class="scrollbar-hidden">
  <div id="overlay" class="overlay hidden"></div>
  <div class="main">
    <!-- tab-list -->
    <div class="tab-list">
      <ul class="tab-list__items">
        <li class="tab-list__item">
          <span class="tab-list__text">Apply styles</span>
        </li>
        <li class="tab-list__item">
          <span class="tab-list__text">Create style</span>
        </li>
      </ul>
      <div class="tab-list-active-indicator"></div>
    </div>
  
    <!-- Apply style  -->
    <div class="apply-style">
      <!-- Ë¶ÅÁ¥†ÈÅ∏Êäû -->
      <div class="apply-style__message">
        <p class="apply-style__text">
          Select the element whose <br />
          text you want to change
        </p>
      </div>
      <!-- ÁôªÈå≤„Åó„Åü„ÉÜ„Ç≠„Çπ„Éà„Çπ„Çø„Ç§„É´‰∏ÄË¶ß -->
      <div class="apply-style__content">
        <div class="apply-style__styles">
          <h2 class="apply-style__title">Style list</h2>
          <button
            class="apply-style__options-button"
            tabindex="0"
            aria-label="„Åù„ÅÆ‰ªñ„ÅÆ„Ç™„Éó„Ç∑„Éß„É≥"
            data-tooltip-type="text"
            data-tooltip="„Åù„ÅÆ‰ªñ„ÅÆ„Ç™„Éó„Ç∑„Éß„É≥"
          >
            <span class="apply-style__options-svg-container">
              <svg
                class="apply-style__options-svg"
                width="12"
                height="12"
                viewBox="0 0 12 12"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fill-rule="nonzero"
                  stroke="none"
                  d="M5 5V0h1v5h5v1H6v5H5V6H0V5h5z"
                  fill-opacity="1"
                />
              </svg>
            </span>
          </button>
        </div>
  
        <ul class="apply-style__list">
          <div class="scroll_container--track--HEzfy" role="none">
            <div
              class="scroll_container--scrollBar--YLWIi"
              role="none"
              style="transform: translate3d(0px, 0px, 0px); height: 186.397px"
            ></div>
          </div>
        </ul>
      </div>
      <!-- ÂèçÊò†„Éú„Çø„É≥ -->
      <button id="applyBtn" class="create-style__apply-button disabled">
        Apply
      </button>
    </div>
  
    <!-- „É≠„Éº„Éá„Ç£„É≥„Ç∞„Ç§„É≥„Ç∏„Ç±„Éº„Çø„Éº -->
    <div id="loadingIndicator" class="loading-indicator hidden">
      <svg class="progress-ring" viewBox="0 0 240 240">
        <circle
          class="progress-ring__circle"
          stroke="var(--figma-color-bg-component)"
          stroke-width="10"
          fill="transparent"
          r="52"
          cx="120"
          cy="120"
        />
      </svg>
      <span class="progress-text">Applying fonts...</span>
    </div>
  
    <div style="display: flex">
      <!-- Create style  -->
      <div class="create-style hidden">
        <!-- „Çπ„Çø„Ç§„É´Âêç ‰ΩúÊàê -->
        <div class="create-style__input-group">
          <label class="create-style__label" for="styleNameInput"
            >Style name</label
          >
          <input
            type="text"
            id="styleNameInput"
            spellcheck="false"
            class="create-style__input"
            name="styleName"
            placeholder="New style"
            autocomplete="off"
            dir="auto"
            value
          />
        </div>
  
        <div class="create-style__tabs">
          <div class="create-style__tab-header">
            <h2 class="create-style__tab-title">Settings</h2>
          </div>
          <div class="create-style__content">
            <div class="create-style__styles" id="mainView">
              <h2 class="create-style__tab-title">English</h2>
            </div>
            <div class="create-style__dropdown" data-lang="English">
              <div class="create-style__dropdown-group font-family">
                <button
                  class="create-style__dropdown-toggle font-family"
                  data-label-type="font-family"
                >
                  <span class="create-style__dropdown-label">SF Pro</span>
                </button>
                <div
                  class="create-style__font-menu hidden font-family-list-container"
                  role="menu"
                >
                  <div class="font_picker--fontPickerSearchRow--PBwi7">
                    <span class="svg-container font_picker--searchIcon--ADEyj"
                      ><svg
                        class="svg"
                        xmlns="http://www.w3.org/2000/svg"
                        width="11"
                        height="11"
                        viewBox="0 0 11 11"
                      >
                        <path
                          fill-opacity="1"
                          fill-rule="evenodd"
                          stroke="none"
                          d="M6.453 7.16C5.776 7.687 4.924 8 4 8 1.79 8 0 6.21 0 4c0-2.21 1.79-4 4-4 2.21 0 4 1.79 4 4 0 .924-.314 1.776-.84 2.453l3.194 3.193-.708.707L6.453 7.16zM7 4c0 1.657-1.343 3-3 3-1.657 0-3-1.343-3-3 0-1.657 1.343-3 3-3 1.657 0 3 1.343 3 3z"
                        ></path></svg
                    ></span>
                    <div class="font_picker--fontPickerSearchBar--XigbT">
                      <input
                        placeholder="Search fonts"
                        spellcheck="false"
                        class="font-search font_picker--fontPickerSearchBarInput--qOPld lazy_input--lazyInput--Ltb6r"
                        type="text"
                        data-testid="font-picker-search-input"
                        dir="auto"
                        value=""
                      />
                    </div>
                  </div>
                  <div class="scroll_container"></div>
                  <!-- Figma„Å´„Ç§„É≥„Çπ„Éà„Éº„É´„Åï„Çå„Åü„Éï„Ç©„É≥„Éà„Éï„Ç°„Éü„É™„Éº„ÅÆÂÜÖÂÆπ„ÅåÂÖ•„Çã -->
                </div>
              </div>
              <div class="create-style__dropdown-group font-weight">
                <div
                  class="create-style__dropdown-toggle font-weight"
                  style="width: 100%"
                  data-label-type="font-weight"
                >
                  <span class="create-style__dropdown-label">Regular</span>
                  <div class="create-style__dropdown-icon-container">
                    <span class="create-style__svg-container">
                      <svg
                        class="create-style__dropdown-icon"
                        xmlns="http://www.w3.org/2000/svg"
                        width="8"
                        height="7"
                        viewBox="0 0 8 7"
                      >
                        <path
                          fill-opacity="1"
                          fill-rule="evenodd"
                          d="m3.646 5.354-3-3 .708-.708L4 4.293l2.646-2.647.708.708-3 3L4 5.707l-.354-.353z"
                        ></path>
                      </svg>
                    </span>
                  </div>
                </div>
                <div
                  class="create-style__font-menu hidden font-weight-list-container"
                  role="menu"
                >
                  <!-- „Éï„Ç©„É≥„Éà„Éï„Ç°„Éü„É™„Éº„Å´ÂØæÂøú„Åô„Çã„Éï„Ç©„É≥„Éà„Éï„Çß„Ç§„Éà„ÅÆÂÜÖÂÆπ„ÅåÂÖ•„Çã -->
                </div>
              </div>
            </div>
          </div>
          <div class="create-style__content">
            <div class="create-style__styles" id="mainView">
              <h2 class="create-style__tab-title">Japanese</h2>
            </div>
            <div class="create-style__dropdown" data-lang="Japanese">
              <div class="create-style__dropdown-group font-family">
                <button
                  class="create-style__dropdown-toggle font-family"
                  data-label-type="font-family"
                >
                  <span class="create-style__dropdown-label">Noto Sans JP</span>
                </button>
                <div
                  class="create-style__font-menu hidden font-family-list-container"
                  role="menu"
                >
                  <div class="font_picker--fontPickerSearchRow--PBwi7">
                    <span class="svg-container font_picker--searchIcon--ADEyj"
                      ><svg
                        class="svg"
                        xmlns="http://www.w3.org/2000/svg"
                        width="11"
                        height="11"
                        viewBox="0 0 11 11"
                      >
                        <path
                          fill-opacity="1"
                          fill-rule="evenodd"
                          stroke="none"
                          d="M6.453 7.16C5.776 7.687 4.924 8 4 8 1.79 8 0 6.21 0 4c0-2.21 1.79-4 4-4 2.21 0 4 1.79 4 4 0 .924-.314 1.776-.84 2.453l3.194 3.193-.708.707L6.453 7.16zM7 4c0 1.657-1.343 3-3 3-1.657 0-3-1.343-3-3 0-1.657 1.343-3 3-3 1.657 0 3 1.343 3 3z"
                        ></path></svg
                    ></span>
                    <div class="font_picker--fontPickerSearchBar--XigbT">
                      <input
                        placeholder="Search fonts"
                        spellcheck="false"
                        class="font-search font_picker--fontPickerSearchBarInput--qOPld lazy_input--lazyInput--Ltb6r"
                        type="text"
                        data-testid="font-picker-search-input"
                        dir="auto"
                        value=""
                      />
                    </div>
                  </div>
                  <div class="scroll_container"></div>
                  <!-- Figma„Å´„Ç§„É≥„Çπ„Éà„Éº„É´„Åï„Çå„Åü„Éï„Ç©„É≥„Éà„Éï„Ç°„Éü„É™„Éº„ÅÆÂÜÖÂÆπ„ÅåÂÖ•„Çã -->
                </div>
              </div>
              <div class="create-style__dropdown-group font-weight">
                <div
                  class="create-style__dropdown-toggle font-weight"
                  style="width: 100%"
                  data-label-type="font-weight"
                >
                  <span class="create-style__dropdown-label">Regular</span>
                  <div class="create-style__dropdown-icon-container">
                    <span class="create-style__svg-container">
                      <svg
                        class="create-style__dropdown-icon"
                        xmlns="http://www.w3.org/2000/svg"
                        width="8"
                        height="7"
                        viewBox="0 0 8 7"
                      >
                        <path
                          fill-opacity="1"
                          fill-rule="evenodd"
                          d="m3.646 5.354-3-3 .708-.708L4 4.293l2.646-2.647.708.708-3 3L4 5.707l-.354-.353z"
                        ></path>
                      </svg>
                    </span>
                  </div>
                </div>
                <div
                  class="create-style__font-menu hidden font-weight-list-container"
                  role="menu"
                >
                  <!-- „Éï„Ç©„É≥„Éà„Éï„Ç°„Éü„É™„Éº„Å´ÂØæÂøú„Åô„Çã„Éï„Ç©„É≥„Éà„Éï„Çß„Ç§„Éà„ÅÆÂÜÖÂÆπ„ÅåÂÖ•„Çã -->
                </div>
              </div>
            </div>
          </div>
        </div>
  
        <div class="create-style__form-action">
          <button tabindex="0" class="create-style__submit-button">
            Create style
          </button>
        </div>
      </div>
    </div>
  </div>
  <div class="sample-text-container" id="sampleView">
    <!-- „Éó„É¨„Éì„É•„Éº -->
    <div class="sample-style__tabs">
      <div class="sample-style__tab-header">
        <h2 class="create-style__tab-title">Sample Preview</h2>
        <button
          class="apply-style__options-button"
          tabindex="0"
          aria-label="„Åù„ÅÆ‰ªñ„ÅÆ„Ç™„Éó„Ç∑„Éß„É≥"
          data-tooltip-type="text"
          data-tooltip="„Åù„ÅÆ‰ªñ„ÅÆ„Ç™„Éó„Ç∑„Éß„É≥"
        >
          <span class="apply-style__options-svg-container">
            <svg
              class="apply-style__options-svg"
              width="14"
              height="12"
              viewBox="0 0 14 12
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-opacity="1"
                fill-rule="evenodd"
                stroke="none"
                d="m5 1.381-4 2.31v4.618l4 2.31 4-2.31V3.691L5 1.38zm5 1.732L5 .227 0 3.113v5.774l5 2.887 5-2.887V3.113zm3 5.196-5 2.887 1 .578 5-2.887V3.113L9 .227 8 .804l5 2.887v4.618zM6 6c0 .552-.448 1-1 1-.552 0-1-.448-1-1 0-.552.448-1 1-1 .552 0 1 .448 1 1z"
              ></path>
            </svg>
          </span>
        </button>
        <div class="sample-language-menu hidden" role="menu">
          <div class="font-menu__item" role="menuitem">
            <div class="font-menu__text">English</div>
            <svg class="font-menu__icon hidden" viewBox="0 0 16 16" fill="none">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M13.2067 5.20718L7.70669 10.7072L6.99959 11.4143L6.29248 10.7072L3.29248 7.70718L4.70669 6.29297L6.99959 8.58586L11.7925 3.79297L13.2067 5.20718Z" fill="white"></path>
            </svg>
          </div>
          <div class="font-menu__item" role="menuitem">
            <div class="font-menu__text">Japanese</div>
            <svg class="font-menu__icon hidden" viewBox="0 0 16 16" fill="none">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M13.2067 5.20718L7.70669 10.7072L6.99959 11.4143L6.29248 10.7072L3.29248 7.70718L4.70669 6.29297L6.99959 8.58586L11.7925 3.79297L13.2067 5.20718Z" fill="white"></path>
            </svg>
          </div>
        </div>
      </div>
      <div class="sample-style__message">
        <p class="sample-style__text">Preview Sample Text</p>
      </div>
    </div>
    <div class="sample-text__input-group">
      <div class="create-style__tab-header">
        <h2 class="create-style__tab-title">Sample Content</h2>
      </div>
      <textarea
        type="text"
        id="sampleTextContent"
        spellcheck="false"
        class="sample-style__input"
        name="styleName"
        placeholder="New style"
        autocomplete="off"
        dir="auto"
        value=""
      ></textarea>
    </div>
  </div>
</body>

<script>
  // Ë¶ÅÁ¥†„ÇíÂèñÂæó„Åó„Åæ„Åô„ÄÇ
  const overlay = document.getElementById("overlay");
  const sampleView = document.getElementById("sampleView");
  const tabs = document.querySelectorAll(".tab-list__item");
  const tabContentsApplyStyle = document.querySelectorAll(".apply-style");
  const tabContentsCreateStyle = document.querySelectorAll(".create-style");
  const indicator = document.querySelector(".tab-list-active-indicator");
  const loader = document.querySelectorAll(".loading-indicator");
  let textDisplay = document.querySelector(".sample-style__text");
  let applyStyleItems;
  let applyStyleEditButtons;
  let applyStyleDeleteButtons;
  let layerName = null; // „Ç∞„É≠„Éº„Éê„É´„Çπ„Ç≥„Éº„Éó„Å´ layerName Â§âÊï∞„ÇíËøΩÂä†
  
  // CreateStyle„Éú„Çø„É≥Êäº‰∏ãÊôÇ„ÅÆÂá¶ÁêÜ
  const createStyleButton = document.querySelector(
    ".create-style__submit-button"
  );
  const applyStyleList = document.querySelector(".apply-style__list");
  
  // „Çπ„ÇØ„É≠„Éº„É´„Éê„Éº„ÅÆË°®Á§∫„Å®Âãï‰Ωú„ÇíÂà∂Âæ°„Åô„ÇãJavaScript„Ç≥„Éº„Éâ
  
  document.addEventListener("DOMContentLoaded", (event) => {
    const scrollContainer = document.querySelector(".apply-style__list");
    const scrollBar = document.querySelector(
      ".scroll_container--scrollBar--YLWIi"
    );
    let isDragging = false;
  
    // „Çπ„ÇØ„É≠„Éº„É´„Éê„Éº„ÅÆÈ´ò„Åï„ÇíË®àÁÆó„Åô„ÇãÈñ¢Êï∞
    const setScrollBarHeight = () => {
      const visibleRatio =
        scrollContainer.clientHeight / scrollContainer.scrollHeight;
      const scrollBarHeight = Math.max(
        visibleRatio * scrollContainer.clientHeight,
        10
      ); // ÊúÄÂ∞èÈ´ò„Åï„Åå10px„Åß„ÅÇ„Çã„Åì„Å®„Çí‰øùË®º
      scrollBar.style.height = scrollBarHeight + "px";
      scrollBar.style.display = "block"; // „Çπ„ÇØ„É≠„Éº„É´„Éê„Éº„ÇíË°®Á§∫
    };
  
    // „Çπ„ÇØ„É≠„Éº„É´„Éê„Éº„Å®„Çπ„ÇØ„É≠„Éº„É´„Ç≥„É≥„ÉÜ„Éä„ÅÆÈñ¢ÈÄ£‰ªò„Åë
    const updateScrollBarPosition = () => {
      const scrollFraction =
        scrollContainer.scrollTop /
        (scrollContainer.scrollHeight - scrollContainer.clientHeight);
      const topPosition =
        scrollFraction *
        (scrollContainer.clientHeight - scrollBar.offsetHeight);
      scrollBar.style.transform = `translate3d(0px, ${topPosition}px, 0px)`;
    };
  
    // „Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº: „Éû„Ç¶„Çπ„Éõ„Ç§„Éº„É´„Åß„ÅÆ„Çπ„ÇØ„É≠„Éº„É´Êìç‰Ωú
    scrollContainer.addEventListener("wheel", (e) => {
      e.preventDefault();
      const deltaY = e.deltaY * 0.5;
      scrollContent(deltaY);
    });
  
    // „Çπ„ÇØ„É≠„Éº„É´„Ç§„Éô„É≥„Éà„Å´„Çà„Çä„ÄÅ„Ç´„Çπ„Çø„É†„Çπ„ÇØ„É≠„Éº„É´„Éê„Éº„ÇíÊõ¥Êñ∞
    scrollContainer.addEventListener("scroll", () => {
      updateScrollBarPosition();
    });
  
    // „Çπ„ÇØ„É≠„Éº„É´Èñ¢Êï∞
    const scrollContent = (deltaY) => {
      scrollContainer.scrollTop += deltaY;
    };
  
    // „Éâ„É©„ÉÉ„Ç∞„Ç§„Éô„É≥„ÉàÁî®„ÅÆ„Éò„É´„Éë„ÉºÈñ¢Êï∞
    const startDrag = (e) => {
      isDragging = true;
      scrollBar.classList.add("dragging");
      document.body.classList.add("scrollbar-dragging");
    };
  
    const endDrag = (e) => {
      isDragging = false;
      scrollBar.classList.remove("dragging");
      document.body.classList.remove("scrollbar-dragging");
    };
  
    const doDrag = (e) => {
      if (isDragging) {
        const deltaY =
          e.movementY *
          (scrollContainer.scrollHeight / scrollContainer.clientHeight);
        scrollContent(deltaY);
      }
    };
  
    // „Éâ„É©„ÉÉ„Ç∞„Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº
    scrollBar.addEventListener("mousedown", startDrag);
    document.addEventListener("mousemove", doDrag);
    document.addEventListener("mouseup", endDrag);
  
    // „Çπ„ÇØ„É≠„Éº„É´„Éê„Éº„ÅÆÈ´ò„Åï„ÅÆÂàùÊúüË®≠ÂÆö
    setScrollBarHeight();
    updateScrollBarPosition();
  });
  
  // ÈÅ∏Êäû„Åï„Çå„ÅüË¶ÅÁ¥†„Å®style„ÅÆÁä∂ÊÖã„ÇíË°®Á§∫
  let selectedName = null;
  let selectedEnv = null;
  let hasSelection = false;
  let isEnvSelected = false;
  
  // Âà©Áî®ÂèØËÉΩ„Å™ÂÖ®„Éï„Ç©„É≥„ÉàÊÉÖÂ†±„ÇíÊ†ºÁ¥ç„Åô„ÇãÂ§âÊï∞
  let availableFonts = []; // Figma API„Åã„ÇâÂèñÂæó„Åô„Çã„Éá„Éº„Çø
  
  // Âà©Áî®ÂèØËÉΩ„Å™„Éï„Ç©„É≥„Éà„Çí„É≠„Éº„Éâ„Åô„Çã„Åü„ÇÅ„Å´„É°„Ç§„É≥„Çπ„ÇØ„É™„Éó„Éà„Å´Ë¶ÅÊ±Ç„Åô„Çã
  parent.postMessage({ pluginMessage: { type: "load-fonts-request" } }, "*");
  
  // „Çø„ÉñÂàá„ÇäÊõø„ÅàË®≠ÂÆö
  tabs.forEach((tab, index) => {
    tab.addEventListener("click", () => {
      activateTab(tab);
      // „Çø„Éñ„ÅÆÂÜÖÂÆπ„ÇíÂàá„ÇäÊõø„Åà„Çã
      toggleTabContents(index);
      toggleTabContentAndResize(index);
    });
  });
  activateTab(tabs[0]);
  toggleTabContents(0);
  toggleTabContentAndResize(0);
  
  // „Çø„Éñ„Ç≥„É≥„ÉÜ„É≥„ÉÑ„ÅÆË°®Á§∫Âàá„ÇäÊõø„Åà„ÇíË°å„ÅÜÈñ¢Êï∞
  function toggleTabContents(index) {
    // Apply Styles„Çø„Éñ„ÅåÈÅ∏Êäû„Åï„Çå„ÅüÂ†¥ÂêàÔºàindex 0Ôºâ
    if (index === 0) {
      tabContentsApplyStyle.forEach((content) =>
        content.classList.remove("hidden")
      );
      tabContentsCreateStyle.forEach((content) =>
        content.classList.add("hidden")
      );
      sampleView.style.display = "none";
    }
    // Create Style„Çø„Éñ„ÅåÈÅ∏Êäû„Åï„Çå„ÅüÂ†¥ÂêàÔºàindex 1Ôºâ
    else if (index === 1) {
      tabContentsApplyStyle.forEach((content) =>
        content.classList.add("hidden")
      );
      tabContentsCreateStyle.forEach((content) =>
        content.classList.remove("hidden")
      );
      sampleView.style.display = "flex";
    }
  }
  // „Çø„Éñ„ÅåÈÅ∏Êäû„Åï„Çå„ÅüÈöõ„ÅÆÈñ¢Êï∞„ÇíÂÆöÁæ©„Åó„Åæ„Åô„ÄÇ
  function activateTab(tab) {
    // „Åô„Åπ„Å¶„ÅÆ„Çø„Éñ„Åã„Çâ„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„ÇØ„É©„Çπ„ÇíÂèñ„ÇäÈô§„Åç„Åæ„Åô„ÄÇ
    tabs.forEach((t) => {
      t.classList.remove("tab-list__item--active");
    });
  
    // ÈÅ∏Êäû„Åï„Çå„Åü„Çø„Éñ„Å´„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„ÇØ„É©„Çπ„ÇíËøΩÂä†„Åó„Åæ„Åô„ÄÇ
    tab.classList.add("tab-list__item--active");
  
    // „Ç§„É≥„Ç∏„Ç±„Éº„Çø„Éº„ÇíÊ¥ªÊÄßÁä∂ÊÖã„Å´„Åó„Å¶„ÄÅÈÅ∏Êäû„Åï„Çå„Åü„Çø„Éñ„ÅÆ‰ΩçÁΩÆ„Å´Âêà„Çè„Åõ„Åæ„Åô„ÄÇ
    indicator.style.display = "block";
    indicator.style.width = "67px";
    indicator.style.left = `${tab.offsetLeft}px`;
  }
  
  // UIÂÅ¥„ÅÆ„Çπ„ÇØ„É™„Éó„ÉàÂÜÖ„Åß„ÄÅ„Çø„Éñ„ÅÆÂàá„ÇäÊõø„Åà„Ç§„Éô„É≥„Éà„ÇíÊâ±„ÅÜ
  function toggleTabContentAndResize(index) {
    // Êñ∞„Åó„ÅÑÈ´ò„Åï„ÇíË®àÁÆó„Åô„ÇãÂá¶ÁêÜ...
    let newHeight;
    let newWidth;
    // Apply Styles„Çø„Éñ„ÅåÈÅ∏Êäû„Åï„Çå„ÅüÂ†¥ÂêàÔºàindex 0Ôºâ
    if (index === 0) {
      newHeight = 463;
      newWidth = 324;
    }
    // Create Style„Çø„Éñ„ÅåÈÅ∏Êäû„Åï„Çå„ÅüÂ†¥ÂêàÔºàindex 1Ôºâ
    else if (index === 1) {
      newHeight = 373;
      newWidth = 648;
    }
  
    // „É°„Ç§„É≥„Çπ„ÇØ„É™„Éó„Éà„Å´Êñ∞„Åó„ÅÑÈ´ò„Åï„ÇíÈÄöÁü•
    parent.postMessage(
      {
        pluginMessage: {
          type: "resize-ui",
          width: newWidth,
          height: newHeight,
        },
      },
      "*"
    );
  }
  
  // „É≠„Éº„Éá„Ç£„É≥„Ç∞Ë®≠ÂÆö
  const circumference = 2 * Math.PI * 52;
  
  // ÊúÄÂàù„Å´ÂÜÜ„Çí„É™„É≥„Ç∞„Å®„Åó„Å¶Ë°®Á§∫„Åô„Çã„Åü„ÇÅ„Å´„ÄÅ
  // stroke-dasharray„Å®stroke-dashoffset„ÇíÂÜÜÂë®„ÅÆÈï∑„Åï„Å´„Çª„ÉÉ„Éà„Åó„Åæ„Åô
  const circle = document.querySelector(".progress-ring__circle");
  circle.style.strokeDasharray = `${circumference} ${circumference}`;
  circle.style.strokeDashoffset = circumference;
  
  function setProgress(percent) {
    // „Éë„Éº„Çª„É≥„Éà„Å´Âøú„Åò„Åü„Ç™„Éï„Çª„ÉÉ„Éà„ÇíË®àÁÆó„Åó„Åæ„Åô
    const offset = circumference - (percent / 100) * circumference;
    // „Ç™„Éï„Çª„ÉÉ„Éà„ÇíË®≠ÂÆö„Åô„Çã„Åì„Å®„Åß„É™„É≥„Ç∞„ÇíÊèèÁîª„Åó„Åæ„Åô
    circle.style.strokeDashoffset = offset;
  }
  
  // „É°„ÉÉ„Çª„Éº„Ç∏„Åå„Éó„É©„Ç∞„Ç§„É≥„Åã„ÇâÈÄÅ‰ø°„Åï„Çå„Åü„Å®„Åç„Å´„Ç§„Éô„É≥„Éà„ÇíÁô∫ÁÅ´„Åï„Åõ„Çã
  window.onmessage = (event) => {
    const message = event.data.pluginMessage;
  
    // ÂÖ±ÈÄö„ÅÆ„Ç®„É¨„É°„É≥„Éà„ÇíÂèñÂæó
    const textElement = document.querySelector(
      ".apply-style__message .apply-style__text"
    ); // textElement„Çí„Åì„Åì„ÅßÂÆöÁæ©
    const loadingIndicator = document.getElementById("loadingIndicator");
  
    switch (message.type) {
      // ÈÅ∏Êäû„Åó„ÅüË¶ÅÁ¥†Èñ¢ÈÄ£„É°„ÉÉ„Çª„Éº„Ç∏
      case "selection-cleared":
        textElement.innerHTML =
          "Select the element whose <br> text you want to change";
        textElement.style.color = "var(--figma-color-text-disabled)";
        textElement.style.fontWeight = "400";
        hasSelection = false;
        updateButtonState();
        break;
      case "update-name":
        textElement.textContent = message.name;
        layerName = message.name; // updatedNameÂ§âÊï∞„Å´message.name„Çí‰ª£ÂÖ•
        textElement.style.color = "var(--figma-color-text)";
        textElement.style.fontWeight = "600";
        hasSelection = true;
        updateButtonState();
        break;
      case "update-progress":
        loadingIndicator.classList.remove("hidden");
        // ÈÄ≤ÊçóÁä∂Ê≥Å„ÅÆ„Éë„Éº„Çª„É≥„ÉÜ„Éº„Ç∏„ÇíÂèó„ÅëÂèñ„Çã
        const progressPercent = event.data.pluginMessage.progress;
        // ÈÄ≤Êçó„Ç§„É≥„Ç∏„Ç±„Éº„Çø„ÇíÊõ¥Êñ∞„Åô„Çã
        setProgress(progressPercent);
        break;
      case "hide-loading":
        loadingIndicator.classList.add("hidden");
        break;
      case "load-fonts":
        // „É°„ÉÉ„Çª„Éº„Ç∏„Åã„Çâ„Éï„Ç©„É≥„ÉàÊÉÖÂ†±„ÇíÂèñÂæó„Åô„Çã
        availableFonts = message.fonts;
        let fontFamilyListContainers;
  
        fontFamilyListContainers = document.querySelectorAll(
          ".font-family-list-container"
        );
        // listContainerÈ†òÂüüÂ§ñ„ÅÆ„ÇØ„É™„ÉÉ„ÇØ„ÇíÊ§úÁü•„Åô„Çã„Åü„ÇÅ„ÅÆÈñ¢Êï∞
  
        function handleDocumentClick(event) {
          fontFamilyListContainers.forEach((listContainer) => {
            // „ÇØ„É™„ÉÉ„ÇØ„ÅålistContainer„Åæ„Åü„ÅØtoggleÂÜÖ„ÅÆ„ÇÇ„ÅÆ„Åß„Å™„ÅÑÂ†¥Âêà„ÄÅhidden„ÇØ„É©„Çπ„ÇíËøΩÂä†
            if (
              listContainer.contains(event.target) ||
              listContainer.previousElementSibling.contains(event.target)
            ) {
              // „ÇØ„É™„ÉÉ„ÇØ„Åó„Åü„ÅÆ„ÅålistContainerÂÜÖ„ÄÅ„ÇÇ„Åó„Åè„ÅØlistContainer„Å´Èö£Êé•„Åô„ÇãË¶ÅÁ¥†Ôºàtoggle„Éú„Çø„É≥Ôºâ„ÅÆÂ†¥Âêà„ÅØ‰Ωï„ÇÇ„Åó„Å™„ÅÑ
            } else {
              listContainer.classList.add("hidden");
            }
          });
        }
  
        document.addEventListener("click", handleDocumentClick);
  
        const createStyleContents = document.querySelectorAll(
          ".create-style__content"
        );
        createStyleContents.forEach((content) => {
          const fontFamilyListContainer = content.querySelector(
            ".font-family-list-container"
          );
          const searchInputContainer = content.querySelector(".font-search");
          const scrollContainer = content.querySelector(".scroll_container");
          setupSearchFunctionality(searchInputContainer, scrollContainer);
          const fontWeightListContainer = content.querySelector(
            ".font-weight-list-container"
          );
          const fontWeightSelectBtn = content.querySelector(
            ".create-style__dropdown-group.font-weight"
          );
          const dropDownToggle = content.querySelector(
            ".create-style__dropdown-toggle.font-family"
          );
          let fontWeightLabel = content.querySelector(
            ".create-style__dropdown-toggle.font-weight .create-style__dropdown-label"
          );
  
          // Êó¢Â≠ò„ÅÆ„É™„Çπ„ÉàÂÜÖÂÆπ„Çí‰∏ÄÂ∫¶„ÇØ„É™„Ç¢„Åô„Çã
          scrollContainer.innerHTML = "";
  
          // ÈáçË§á„Åõ„Åö„Å´„Éï„Ç©„É≥„Éà„Éï„Ç°„Éü„É™„ÉºÂêç„ÇíË®òÈå≤„Åô„Çã„Åü„ÇÅ„ÅÆSet„Çí‰ΩúÊàê
          const addedFontFamilies = new Set();
          // ÂêÑ„Ç≥„É≥„ÉÜ„Éä„Å´Âêå„Åò„Éï„Ç©„É≥„Éà„É™„Çπ„Éà„ÇíËøΩÂä†„Åô„Çã
          availableFonts.forEach((font) => {
            if (font.fontName.family.localeCompare("ABeeZee") < 0) {
              // üëà „Åì„Åì„ÅßABeeZee„Çà„Çä„ÇÇÂâç„Å´„ÅÇ„Çã„Åã„Å©„ÅÜ„Åã„ÇíÊØîËºÉ
              return; // ABeeZee„Çà„ÇäËæûÊõ∏È†Ü„ÅßÂâç„Å´Êù•„ÇãÂ†¥Âêà„ÅØskipÔºà„Åì„ÅÆ„É´„Éº„Éó„ÅÆ„Ç§„ÉÜ„É¨„Éº„Ç∑„Éß„É≥„Çí„Çπ„Ç≠„ÉÉ„Éó„Åô„ÇãÔºâ
            }
            // „Éï„Ç©„É≥„Éà„Éï„Ç°„Éü„É™„ÉºÂêç„ÅåSet„Å´„Åæ„Å†ËøΩÂä†„Åï„Çå„Å¶„ÅÑ„Å™„ÅÑÂ†¥Âêà„ÅÆ„ÅøÈ†ÖÁõÆ„Çí‰ΩúÊàê„Åô„Çã
            if (!addedFontFamilies.has(font.fontName.family)) {
              addedFontFamilies.add(font.fontName.family);
  
              // Êñ∞„Åó„ÅÑ„Éï„Ç©„É≥„Éà„Éï„Ç°„Éü„É™„Éº„ÅÆ„É°„Éã„É•„ÉºÈ†ÖÁõÆ„Çí‰ΩúÊàê
              const item = document.createElement("div");
              item.className = "font-menu__item font-item";
              item.setAttribute("role", "menuitem");
  
              // „Éï„Ç©„É≥„Éà„Éï„Ç°„Éü„É™„ÉºÂêç„ÇíË°®Á§∫„Åô„Çã„Åü„ÇÅ„ÅÆ„ÉÜ„Ç≠„Çπ„ÉàÈÉ®ÂàÜ„Çí‰ΩúÊàê
              const text = document.createElement("div");
              text.className = "font-menu__text";
              text.textContent = font.fontName.family;
              item.appendChild(text);
  
              // „É™„Çπ„Éà„Å´„É°„Éã„É•„ÉºÈ†ÖÁõÆ„ÇíËøΩÂä†
              scrollContainer.appendChild(item);
            }
          });
  
          dropDownToggle.addEventListener("click", () => {
            fontFamilyListContainer.classList.add("hidden");
            // „Éú„Çø„É≥„Å´Èñ¢ÈÄ£„Å•„Åë„Çâ„Çå„Åü„É™„Çπ„Éà„Ç≥„É≥„ÉÜ„Éä„ÇíÂèñÂæó„Åô„Çã
            if (fontFamilyListContainer) {
              fontFamilyListContainer.classList.toggle("hidden"); // „ÇØ„É™„ÉÉ„ÇØ„Åî„Å®„Å´„É™„Çπ„Éà„ÅÆË°®Á§∫„ÉªÈùûË°®Á§∫„ÇíÂàá„ÇäÊõø„Åà„Çã
              event.stopPropagation(); // „Éâ„Ç≠„É•„É°„É≥„Éà„É¨„Éô„É´„ÅÆ„Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº„ÅåÂèçÂøú„Åó„Å™„ÅÑ„Çà„ÅÜ„Å´„Åô„Çã
            }
          });
          fontWeightSelectBtn.addEventListener("click", () => {
            fontWeightListContainer.classList.add("hidden");
            overlay.classList.remove("hidden");
            document.body.classList.add("menu-open");
  
            // „Éú„Çø„É≥„Å´Èñ¢ÈÄ£„Å•„Åë„Çâ„Çå„Åü„É™„Çπ„Éà„Ç≥„É≥„ÉÜ„Éä„ÇíÂèñÂæó„Åô„Çã
            if (fontFamilyListContainer) {
              fontFamilyListContainer.classList.toggle("hidden"); // „ÇØ„É™„ÉÉ„ÇØ„Åî„Å®„Å´„É™„Çπ„Éà„ÅÆË°®Á§∫„ÉªÈùûË°®Á§∫„ÇíÂàá„ÇäÊõø„Åà„Çã
              event.stopPropagation(); // „Éâ„Ç≠„É•„É°„É≥„Éà„É¨„Éô„É´„ÅÆ„Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº„ÅåÂèçÂøú„Åó„Å™„ÅÑ„Çà„ÅÜ„Å´„Åô„Çã
            }
          });
  
          scrollContainer.childNodes.forEach((item) => {
            item.addEventListener("click", (event) => {
              const fontName = item.textContent;
              // Ë¶™„ÅÆ '.create-style__dropdown' „ÇíÂèñÂæó„Åó„Å¶„ÄÅÈñ¢ÈÄ£„Åô„Çã„É©„Éô„É´„ÇíÊõ¥Êñ∞„Åô„Çã
              const dropDown = fontFamilyListContainer.closest(
                ".create-style__dropdown"
                );
                const label = dropDown.querySelector(
                  ".create-style__dropdown-label"
                  );
                if (label) {
                  label.textContent = fontName;
                  textDisplay.style.fontFamily = label.textContent;
              }
  
              fontFamilyListContainer.classList.add("hidden"); // È†ÖÁõÆ„ÇíÈÅ∏Êäû„Åó„ÅüÂæå„ÄÅ„É™„Çπ„Éà„ÇíÈñâ„Åò„Çã
              makeFontWeightLists(
                fontName,
                fontWeightListContainer,
                fontWeightLabel
              );
  
              // „É™„Çπ„Éà„Ç¢„Ç§„ÉÜ„É†„ÅÆ„Ç§„Éô„É≥„Éà„Åå„Äå„Éú„Çø„É≥„Äç„Åæ„Åß„Éê„Éñ„É™„É≥„Ç∞„Åó„Å¶„Éú„Çø„É≥„ÅÆ„ÇØ„É™„ÉÉ„ÇØ„Ç§„Éô„É≥„Éà„ÅåÁô∫ÁÅ´„Åô„Çã„ÅÆ„ÇíÈò≤„Åê
              event.stopPropagation();
            });
          });
          fontWeightSelectBtn.addEventListener("click", function () {
            if (fontWeightListContainer.classList.contains("hidden")) {
              // ÁèæÂú®„ÅÆ„Éï„Ç©„É≥„Éà„Éï„Ç°„Éü„É™„Éº„É©„Éô„É´„Åã„Çâ„Éï„Ç©„É≥„ÉàÂêç„ÇíÂèñÂæó
              const currentFontFamily = content.querySelector(
                ".create-style__dropdown-toggle.font-family .create-style__dropdown-label"
              ).textContent;
              // Ë°®Á§∫„Åï„Çå„Çã„Åπ„Åç„Éï„Ç©„É≥„Éà„Ç¶„Çß„Ç§„Éà‰∏ÄË¶ß„ÇíË°®Á§∫„Åô„Çã
              makeFontWeightLists(
                currentFontFamily,
                fontWeightListContainer,
                fontWeightLabel
              );
              fontWeightListContainer.classList.remove("hidden");
            } else {
              fontWeightListContainer.classList.add("hidden"); // „É™„Çπ„Éà„ÇíÈñâ„Åò„Çã
            }
          });
        });
        break;
      case "add-style-to-list":
        applyStyleItems = document.querySelectorAll(".apply-style__item");
  
        // Êñ∞„Åó„ÅÑ„É™„Çπ„Éà„Ç¢„Ç§„ÉÜ„É†„Çí‰ΩúÊàê
        const styleName = message.styleName;
        const env = message.env;
  
        let isEnvExists = false;
        applyStyleItems.forEach((item) => {
          if (item.getAttribute("data-env") === env) {
            isEnvExists = true;
          }
        });
  
        // Êó¢„Å´Â≠òÂú®„Åô„ÇãÂ†¥Âêà„ÅØ„ÄÅÊñ∞„Åó„ÅÑ„É™„Çπ„Éà„Ç¢„Ç§„ÉÜ„É†„ÅÆËøΩÂä†„Çí„Çπ„Ç≠„ÉÉ„Éó„Åô„Çã
        if (isEnvExists) {
          break;
        }
  
        const newItem = document.createElement("li");
        newItem.classList.add("apply-style__item");
        newItem.setAttribute("data-env", env);
  
        // „É™„Çπ„Éà„Ç¢„Ç§„ÉÜ„É†„Å´ËøΩÂä†„Åô„ÇãHTML„Ç≥„É≥„ÉÜ„É≥„ÉÑ„ÇíË®≠ÂÆö
        newItem.innerHTML = `
          <div class="apply-style__item-content">
            <h3 class="apply-style__item-title">${styleName}</h3>
          </div>
          <button
            class="apply-style__options-button edit"
            tabindex="0"
            aria-label="„Åù„ÅÆ‰ªñ„ÅÆ„Ç™„Éó„Ç∑„Éß„É≥"
            data-tooltip-type="text"
            data-tooltip="„Åù„ÅÆ‰ªñ„ÅÆ„Ç™„Éó„Ç∑„Éß„É≥"
          >
            <span class="apply-style__options-svg-container">
              <svg
                class="apply-style__options-svg"
                width="32"
                height="32"
                viewBox="0 0 32 32"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M12 16.05V9H13V16.05C14.1411 16.2816 15 17.2905 15 18.5C15 19.7095 14.1411 20.7184 13 20.95V23H12V20.95C10.8589 20.7184 10 19.7095 10 18.5C10 17.2905 10.8589 16.2816 12 16.05ZM14 18.5C14 19.3284 13.3284 20 12.5 20C11.6716 20 11 19.3284 11 18.5C11 17.6716 11.6716 17 12.5 17C13.3284 17 14 17.6716 14 18.5ZM19 23H20V15.95C21.1411 15.7184 22 14.7095 22 13.5C22 12.2905 21.1411 11.2816 20 11.05V9H19V11.05C17.8589 11.2816 17 12.2905 17 13.5C17 14.7095 17.8589 15.7184 19 15.95V23ZM21 13.5C21 12.6716 20.3284 12 19.5 12C18.6716 12 18 12.6716 18 13.5C18 14.3284 18.6716 15 19.5 15C20.3284 15 21 14.3284 21 13.5Z"
                />
              </svg>
            </span>
          </button>
          <div class="apply-style__popup edit">
            <div class="apply-style__popup-arrow-container">
              <div class="apply-style__popup-content">Edit style</div>
              <div class="apply-style__popup-arrow">
                <svg
                  width="13"
                  height="7"
                  viewBox="0 0 13 7"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path d="M6.5 0L13 6.5H0L6.5 0Z" fill="#222222" />
                </svg>
              </div>
            </div>
          </div>
          <button
            class="apply-style__options-button delete"
            tabindex="0"
            aria-label="„Åù„ÅÆ‰ªñ„ÅÆ„Ç™„Éó„Ç∑„Éß„É≥"
            data-tooltip-type="text"
            data-tooltip="„Åù„ÅÆ‰ªñ„ÅÆ„Ç™„Éó„Ç∑„Éß„É≥"
          >
            <span class="apply-style__options-svg-container">
              <svg
                class="apply-style__options-svg"
                width="32"
                height="32"
                viewBox="0 0 32 32"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M15 9.5C14.4477 9.5 14 9.94772 14 10.5H18C18 9.94772 17.5523 9.5 17 9.5H15ZM19 10.5C19 9.39543 18.1046 8.5 17 8.5H15C13.8954 8.5 13 9.39543 13 10.5H11.5H10V11.5H11V21.5C11 22.6046 11.8954 23.5 13 23.5H19C20.1046 23.5 21 22.6046 21 21.5V11.5H22V10.5H20.5H19ZM20 11.5H18.5H13.5H12V21.5C12 22.0523 12.4477 22.5 13 22.5H19C19.5523 22.5 20 22.0523 20 21.5V11.5ZM14 18.5V14.5H15V18.5H14ZM17 18.5V14.5H18V18.5H17Z"
                />
              </svg>
            </span>
          </button>
  
          <div class="apply-style__popup delete">
            <div class="apply-style__popup-arrow-container">
              <div class="apply-style__popup-content">Delete style</div>
              <div class="apply-style__popup-arrow">
                <svg
                  width="13"
                  height="7"
                  viewBox="0 0 13 7"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path d="M6.5 0L13 6.5H0L6.5 0Z" fill="#222222" />
                </svg>
              </div>
            </div>
          </div>
          <!-- „Åù„ÅÆ‰ªñ„ÅÆ„Ç™„Éó„Ç∑„Éß„É≥„Éú„Çø„É≥„Å®„Éù„ÉÉ„Éó„Ç¢„ÉÉ„Éó„ÄÅ„É°„Éã„É•„Éº„Å™„Å©„ÇíÂê´„ÇÄHTML„Çí„Åì„Åì„Å´ËøΩÂä† -->
        `;
  
        // apply-style__list„ÅÆË¶ÅÁ¥†„Å´Êñ∞„Åó„ÅÑ„É™„Çπ„Éà„Ç¢„Ç§„ÉÜ„É†„ÇíËøΩÂä†
        applyStyleList.appendChild(newItem);
  
        // Êñ∞„Åó„ÅÑ„É™„Çπ„Éà„Ç¢„Ç§„ÉÜ„É†„Å´Èñ¢„Åô„Çã„Ç§„Éô„É≥„Éà„Çí„Åì„Åì„ÅßËøΩÂä†„Åó„Å¶„ÅÑ„Åæ„Åô
        newItem.addEventListener("click", function (e) {
          // „ÇØ„É™„ÉÉ„ÇØ„Ç§„Éô„É≥„Éà„ÅÆ„Éê„Éñ„É™„É≥„Ç∞„ÇíÊ≠¢„ÇÅ„Çã
          e.stopPropagation();
  
          // ‰ªñ„ÅÆ„Ç¢„Ç§„ÉÜ„É†„ÅÆ„Ç¢„ÇØ„ÉÜ„Ç£„ÉñÁä∂ÊÖã„ÇíËß£Èô§
          removeAllActiveItems();
          removeAllActiveButtons();
  
          // „ÇØ„É™„ÉÉ„ÇØ„Åï„Çå„Åü„Ç¢„Ç§„ÉÜ„É†„Å´„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„ÇØ„É©„Çπ„ÇíÂàá„ÇäÊõø„Åà
          newItem.classList.toggle("active");
          selectedName = newItem.querySelector(
            ".apply-style__item-title"
          ).textContent; // „Çπ„Çø„Ç§„É´Âêç„ÇíÂèñÂæó
          selectedEnv = newItem.getAttribute("data-env"); // Áí∞Â¢É„ÇíÂèñÂæó
  
          // „Éú„Çø„É≥„ÅÆÁä∂ÊÖã„ÇíÊõ¥Êñ∞
          updateButtonState();
        });
  
        // Ë®≠ÂÆö/Á∑®ÈõÜ„Éú„Çø„É≥„Å´Èñ¢„Åô„Çã„Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº„Çí„Åì„Åì„ÅßËøΩÂä†„Åß„Åç„Åæ„Åô„ÄÇ
        const applyStyleEditButton = newItem.querySelector(
          ".apply-style__options-button.edit"
        );
        const applyStyleDeleteButton = newItem.querySelector(
          ".apply-style__options-button.delete"
        );
        applyStyleEditButton.addEventListener("click", function (e) {
          // „Ç§„Éô„É≥„Éà„ÅÆ„Éê„Éñ„É™„É≥„Ç∞„ÇíÈòªÊ≠¢
          e.stopPropagation();
  
          removeAllActiveButtons();
  
          // „ÇØ„É™„ÉÉ„ÇØ„Åï„Çå„ÅüË¶ÅÁ¥†„Åå„Éú„Çø„É≥Ëá™‰Ωì„Åß„ÅØ„Å™„ÅèÂ≠êË¶ÅÁ¥†„ÅÆÂ†¥Âêà„ÄÅclosest„Çí‰ΩøÁî®„Åó„Å¶„Éú„Çø„É≥Ë¶ÅÁ¥†„ÇíÂèñÂæó
          const buttonElement = e.target.closest(
            ".apply-style__options-button"
          );
  
          // „Éú„Çø„É≥„ÅÆ„Ç¢„ÇØ„ÉÜ„Ç£„ÉñÁä∂ÊÖã„Çí„Éà„Ç∞„É´„Åô„Çã
          const isActive = buttonElement.classList.toggle("active");
          if (isActive) {
            overlay.classList.remove("hidden");
            document.body.classList.add("menu-open");
            // „Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å´„Å™„Å£„Åü„Å®„Åç
            // if (popup) {
            //   popup.style.display = "none";
            // }
            // if (menu) {
            //   menu.style.display = "block";
            // }
          } else {
            // „Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Åß„Å™„ÅÑ„Å®„ÅçÔºàÂà•„ÅÆÂá¶ÁêÜ„ÅåÂøÖË¶Å„Å™Â†¥Âêà„ÅÆ„ÅøÔºâ
            overlay.classList.add("hidden");
            document.body.classList.remove("menu-open");
          }
  
          // ‰ªñ„ÅÆ„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å™È†ÖÁõÆ„ÇíÈùû„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å´„Åô„Çã
          removeAllActiveItems();
        });
        applyStyleDeleteButton.addEventListener("click", function (e) {
          e.stopPropagation(); // „Ç§„Éô„É≥„Éà„Éê„Éñ„É™„É≥„Ç∞„ÇíÈò≤„Åê
          const envValue = newItem.getAttribute("data-env");
          let itemToDelete = document.querySelector(
            `.apply-style__item[data-env="${envValue}"]`
          ); // DOM Ë¶ÅÁ¥†„ÇíÂèñÂæó
          if (itemToDelete) {
            itemToDelete.remove(); // DOM Ë¶ÅÁ¥†„ÇíÂâäÈô§
          }
          parent.postMessage(
            {
              pluginMessage: {
                type: "delete-style",
                env: newItem.getAttribute("data-env"),
              },
            },
            "*"
          );
        });
        break;
    }
  };
  document.addEventListener("DOMContentLoaded", function () {
    let textarea = document.getElementById("sampleTextContent");
    let defaultText = "Preview Sample Text";
  
    textarea.addEventListener("input", function () {
      if (textDisplay !== null) {
        if (this.value) {
          textDisplay.textContent = this.value;
          textDisplay.style.color = "var(--figma-color-text)";
        } else {
          textDisplay.textContent = defaultText;
          textDisplay.style.color = "var(--figma-color-text-disabled)";
        }
      }
    });
  });
  // Ê§úÁ¥¢Ê©üËÉΩ„ÇíË®≠ÂÆö„Åô„ÇãÈñ¢Êï∞
  function setupSearchFunctionality(searchInputContainer, scrollContainer) {
    // Ê§úÁ¥¢„Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº„ÇíËøΩÂä†
    searchInputContainer.addEventListener("input", function () {
      let searchText = searchInputContainer.value.toLowerCase();
  
      if (searchInputContainer) {
        // Ê§úÁ¥¢„Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº„ÇíËøΩÂä†
        searchInputContainer.addEventListener("input", function () {
          let searchText = searchInputContainer.value.toLowerCase();
  
          // „Åì„ÅÆÊôÇÁÇπ„Åß„ÅÆfont-items„ÇíÂÜçÂèñÂæó„Åô„Çã
          let fontItems = scrollContainer.querySelectorAll(".font-item");
  
          fontItems.forEach(function (item) {
            let fontName = item
              .querySelector(".font-menu__text")
              .textContent.toLowerCase();
            if (fontName.includes(searchText)) {
              item.style.display = "";
            } else {
              item.style.display = "none";
            }
          });
        });
      }
    });
  }
  // „Éï„Ç©„É≥„Éà„Ç¶„Çß„Ç§„Éà„ÇíË°®Á§∫„Åô„ÇãÈñ¢Êï∞
  function makeFontWeightLists(
    fontFamilyName,
    fontWeightListContainer,
    fontWeightLabel
  ) {
    fontWeightListContainer.innerHTML = ""; // „Ç≥„É≥„ÉÜ„Éä„Çí„ÇØ„É™„Ç¢
  
    const fontWeights = availableFonts.filter(
      (font) => font.fontName.family === fontFamilyName
    );
  
    function createCheckIcon() {
      const namespace = "http://www.w3.org/2000/svg"; // SVG„ÅÆÂêçÂâçÁ©∫Èñì
      const checkIcon = document.createElementNS(namespace, "svg");
      checkIcon.setAttribute("class", "font-menu__icon hidden");
      checkIcon.setAttribute("viewBox", "0 0 16 16");
      checkIcon.setAttribute("fill", "none");
  
      const path = document.createElementNS(namespace, "path");
      path.setAttribute("fill-rule", "evenodd");
      path.setAttribute("clip-rule", "evenodd");
      path.setAttribute(
        "d",
        "M13.2067 5.20718L7.70669 10.7072L6.99959 11.4143L6.29248 10.7072L3.29248 7.70718L4.70669 6.29297L6.99959 8.58586L11.7925 3.79297L13.2067 5.20718Z"
      );
      path.setAttribute("fill", "white");
  
      checkIcon.appendChild(path);
      return checkIcon;
    }
  
    let allFontWeightItems = [];
    let defaultFontWeight;
    // 'Regular' „Åå„ÅÇ„Çã„Åã„Å©„ÅÜ„ÅãÁ¢∫Ë™ç„Åó„ÄÅË®≠ÂÆö„Åô„Çã
    const regularFontWeight = fontWeights.find(
      (font) => font.fontName.style === "Regular"
    );
  
    fontWeights.forEach((font) => {
      // Êñ∞„Åó„ÅÑ„Éï„Ç©„É≥„Éà„Ç¶„Çß„Ç§„Éà„ÅÆ„É°„Éã„É•„ÉºÈ†ÖÁõÆ„Çí‰ΩúÊàê
      const item = document.createElement("div");
      item.className = "font-menu__item";
      item.setAttribute("role", "menuitem");
  
      // „Éï„Ç©„É≥„Éà„Ç¶„Çß„Ç§„ÉàÂêç„ÇíË°®Á§∫„Åô„Çã„Åü„ÇÅ„ÅÆ„ÉÜ„Ç≠„Çπ„ÉàÈÉ®ÂàÜ„Çí‰ΩúÊàê
      const text = document.createElement("div");
      text.className = "font-menu__text";
      text.textContent = font.fontName.style;
      item.appendChild(text);
  
      // „ÉÅ„Çß„ÉÉ„ÇØ„Ç¢„Ç§„Ç≥„É≥„ÇíËøΩÂä†
      const checkIcon = createCheckIcon();
      item.appendChild(checkIcon);
  
      // „É™„Çπ„Éà„Å´„É°„Éã„É•„ÉºÈ†ÖÁõÆ„ÇíËøΩÂä†
      fontWeightListContainer.appendChild(item);
  
      // ‰ΩúÊàê„Åó„Åü„É°„Éã„É•„ÉºÈ†ÖÁõÆ„ÇíÈÖçÂàó„Å´ËøΩÂä†
      allFontWeightItems.push(item);
  
      // È†ÖÁõÆ„Åå„ÇØ„É™„ÉÉ„ÇØ„Åï„Çå„ÅüÊôÇ„ÅÆÂá¶ÁêÜ„ÇíËøΩÂä†
      item.addEventListener("click", () => {
        fontWeightLabel.textContent = font.fontName.style; // „É©„Éô„É´„ÇíÊõ¥Êñ∞
        fontWeightListContainer.classList.add("hidden"); // „Éï„Ç©„É≥„Éà„Ç¶„Çß„Ç§„Éà„É™„Çπ„Éà„ÇíÈñâ„Åò„Çã
  
        // ‰ªñ„ÅÆ„Åô„Åπ„Å¶„ÅÆ„Ç¢„Ç§„ÉÜ„É†„ÅÆ„ÉÅ„Çß„ÉÉ„ÇØ„Ç¢„Ç§„Ç≥„É≥„Å´hidden„ÇØ„É©„Çπ„ÇíËøΩÂä†„Åô„Çã
        allFontWeightItems.forEach((cItem) => {
          const icon = cItem.querySelector(".font-menu__icon");
          if (icon) icon.classList.add("hidden");
        });
        updateCheckState(item, allFontWeightItems, checkIcon);
  
        // ÁèæÂú®ÈÅ∏Êäû„Åï„Çå„Åü„Ç¢„Ç§„ÉÜ„É†„ÅÆ„ÉÅ„Çß„ÉÉ„ÇØ„Ç¢„Ç§„Ç≥„É≥„ÅÆhidden„ÇØ„É©„Çπ„ÇíÂâäÈô§„Åô„Çã
        checkIcon.classList.remove("hidden");
        event.stopPropagation();
      });
  
      // „Éá„Éï„Ç©„É´„Éà„Éï„Ç©„É≥„Éà„Ç¶„Çß„Ç§„Éà„ÇíÁâπÂÆö„Åô„Çã
      if (!defaultFontWeight || font.fontName.style === "Regular") {
        defaultFontWeight = item;
      }
    });
    // „Éá„Éï„Ç©„É´„Éà„Éï„Ç©„É≥„Éà„Ç¶„Çß„Ç§„Éà„Çí„É©„Éô„É´„Å®„ÉÅ„Çß„ÉÉ„ÇØÁä∂ÊÖã„Å´Ë®≠ÂÆö„Åô„Çã
    if (defaultFontWeight) {
      fontWeightLabel.textContent = regularFontWeight
        ? "Regular"
        : fontWeights[0].fontName.style;
      updateCheckState(
        defaultFontWeight,
        allFontWeightItems,
        defaultFontWeight.querySelector(".font-menu__icon")
      );
    }
  }
  // „ÉÅ„Çß„ÉÉ„ÇØÁä∂ÊÖã„ÅÆÊõ¥Êñ∞„ÇíË°å„ÅÜÈñ¢Êï∞„ÇíËøΩÂä†
  function updateCheckState(selectedItem, allItems, selectedCheckIcon) {
    allItems.forEach((cItem) => {
      const icon = cItem.querySelector(".font-menu__icon");
      if (icon) icon.classList.add("hidden");
    });
    selectedCheckIcon.classList.remove("hidden");
  }
  
  // „Éú„Çø„É≥„Å´„ÇØ„É™„ÉÉ„ÇØ„Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº„ÇíËøΩÂä†
  createStyleButton.addEventListener("click", function () {
    // „Çπ„Çø„Ç§„É´Âêç„ÅÆ„Ç§„É≥„Éó„ÉÉ„ÉàË¶ÅÁ¥†„Åã„ÇâÂÄ§„ÇíÂèñÂæó
    const styleNameInput = document.getElementById("styleNameInput");
    const styleName = styleNameInput.value.trim();
    const timestamp = new Date().toISOString().replace(/[^\d]/g, "");
    // styleName „ÅåÁ©∫„Åß„Å™„ÅÑ„Åì„Å®„ÇíÁ¢∫Ë™ç„Åó„Åæ„Åô
    if (!styleName) {
      alert("Please enter a style name.");
      return;
    }
    const newItem = document.createElement("li");
    newItem.classList.add("apply-style__item");
    newItem.setAttribute("data-env", `style-${timestamp}`);
  
    // „É™„Çπ„Éà„Ç¢„Ç§„ÉÜ„É†„Å´ËøΩÂä†„Åô„ÇãHTML„Ç≥„É≥„ÉÜ„É≥„ÉÑ„ÇíË®≠ÂÆö
    newItem.innerHTML = `
      <div class="apply-style__item-content">
        <h3 class="apply-style__item-title">${styleName}</h3>
      </div>
      <button
        class="apply-style__options-button edit"
        tabindex="0"
        aria-label="„Åù„ÅÆ‰ªñ„ÅÆ„Ç™„Éó„Ç∑„Éß„É≥"
        data-tooltip-type="text"
        data-tooltip="„Åù„ÅÆ‰ªñ„ÅÆ„Ç™„Éó„Ç∑„Éß„É≥"
      >
        <span class="apply-style__options-svg-container">
          <svg
            class="apply-style__options-svg"
            width="32"
            height="32"
            viewBox="0 0 32 32"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M12 16.05V9H13V16.05C14.1411 16.2816 15 17.2905 15 18.5C15 19.7095 14.1411 20.7184 13 20.95V23H12V20.95C10.8589 20.7184 10 19.7095 10 18.5C10 17.2905 10.8589 16.2816 12 16.05ZM14 18.5C14 19.3284 13.3284 20 12.5 20C11.6716 20 11 19.3284 11 18.5C11 17.6716 11.6716 17 12.5 17C13.3284 17 14 17.6716 14 18.5ZM19 23H20V15.95C21.1411 15.7184 22 14.7095 22 13.5C22 12.2905 21.1411 11.2816 20 11.05V9H19V11.05C17.8589 11.2816 17 12.2905 17 13.5C17 14.7095 17.8589 15.7184 19 15.95V23ZM21 13.5C21 12.6716 20.3284 12 19.5 12C18.6716 12 18 12.6716 18 13.5C18 14.3284 18.6716 15 19.5 15C20.3284 15 21 14.3284 21 13.5Z"
            />
          </svg>
        </span>
      </button>
      <div class="apply-style__popup edit">
        <div class="apply-style__popup-arrow-container">
          <div class="apply-style__popup-content">Edit style</div>
          <div class="apply-style__popup-arrow">
            <svg
              width="13"
              height="7"
              viewBox="0 0 13 7"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path d="M6.5 0L13 6.5H0L6.5 0Z" fill="#222222" />
            </svg>
          </div>
        </div>
      </div>
      <button
        class="apply-style__options-button delete"
        tabindex="0"
        aria-label="„Åù„ÅÆ‰ªñ„ÅÆ„Ç™„Éó„Ç∑„Éß„É≥"
        data-tooltip-type="text"
        data-tooltip="„Åù„ÅÆ‰ªñ„ÅÆ„Ç™„Éó„Ç∑„Éß„É≥"
      >
        <span class="apply-style__options-svg-container">
          <svg
            class="apply-style__options-svg"
            width="32"
            height="32"
            viewBox="0 0 32 32"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M15 9.5C14.4477 9.5 14 9.94772 14 10.5H18C18 9.94772 17.5523 9.5 17 9.5H15ZM19 10.5C19 9.39543 18.1046 8.5 17 8.5H15C13.8954 8.5 13 9.39543 13 10.5H11.5H10V11.5H11V21.5C11 22.6046 11.8954 23.5 13 23.5H19C20.1046 23.5 21 22.6046 21 21.5V11.5H22V10.5H20.5H19ZM20 11.5H18.5H13.5H12V21.5C12 22.0523 12.4477 22.5 13 22.5H19C19.5523 22.5 20 22.0523 20 21.5V11.5ZM14 18.5V14.5H15V18.5H14ZM17 18.5V14.5H18V18.5H17Z"
            />
          </svg>
        </span>
      </button>
  
      <div class="apply-style__popup delete">
        <div class="apply-style__popup-arrow-container">
          <div class="apply-style__popup-content">Delete style</div>
          <div class="apply-style__popup-arrow">
            <svg
              width="13"
              height="7"
              viewBox="0 0 13 7"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path d="M6.5 0L13 6.5H0L6.5 0Z" fill="#222222" />
            </svg>
          </div>
        </div>
      </div>
      <!-- „Åù„ÅÆ‰ªñ„ÅÆ„Ç™„Éó„Ç∑„Éß„É≥„Éú„Çø„É≥„Å®„Éù„ÉÉ„Éó„Ç¢„ÉÉ„Éó„ÄÅ„É°„Éã„É•„Éº„Å™„Å©„ÇíÂê´„ÇÄHTML„Çí„Åì„Åì„Å´ËøΩÂä† -->
    `;
  
    // apply-style__list„ÅÆË¶ÅÁ¥†„Å´Êñ∞„Åó„ÅÑ„É™„Çπ„Éà„Ç¢„Ç§„ÉÜ„É†„ÇíËøΩÂä†
    applyStyleList.appendChild(newItem);
  
    // Êñ∞„Åó„ÅÑ„É™„Çπ„Éà„Ç¢„Ç§„ÉÜ„É†„Å´Èñ¢„Åô„Çã„Ç§„Éô„É≥„Éà„Çí„Åì„Åì„ÅßËøΩÂä†„Åó„Å¶„ÅÑ„Åæ„Åô
    newItem.addEventListener("click", function (e) {
      // „ÇØ„É™„ÉÉ„ÇØ„Ç§„Éô„É≥„Éà„ÅÆ„Éê„Éñ„É™„É≥„Ç∞„ÇíÊ≠¢„ÇÅ„Çã
      e.stopPropagation();
  
      // ‰ªñ„ÅÆ„Ç¢„Ç§„ÉÜ„É†„ÅÆ„Ç¢„ÇØ„ÉÜ„Ç£„ÉñÁä∂ÊÖã„ÇíËß£Èô§
      removeAllActiveItems();
      removeAllActiveButtons();
  
      // „ÇØ„É™„ÉÉ„ÇØ„Åï„Çå„Åü„Ç¢„Ç§„ÉÜ„É†„Å´„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„ÇØ„É©„Çπ„ÇíÂàá„ÇäÊõø„Åà
      newItem.classList.toggle("active");
      selectedName = newItem.querySelector(
        ".apply-style__item-title"
      ).textContent; // „Çπ„Çø„Ç§„É´Âêç„ÇíÂèñÂæó
      selectedEnv = newItem.getAttribute("data-env"); // Áí∞Â¢É„ÇíÂèñÂæó
  
      // „Éú„Çø„É≥„ÅÆÁä∂ÊÖã„ÇíÊõ¥Êñ∞
      updateButtonState();
    });
  
    // Ë®≠ÂÆö/Á∑®ÈõÜ„Éú„Çø„É≥„Å´Èñ¢„Åô„Çã„Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº„Çí„Åì„Åì„ÅßËøΩÂä†„Åß„Åç„Åæ„Åô„ÄÇ
    const applyStyleEditButton = newItem.querySelector(
      ".apply-style__options-button.edit"
    );
    const applyStyleDeleteButton = newItem.querySelector(
      ".apply-style__options-button.delete"
    );
    applyStyleEditButton.addEventListener("click", function (e) {
      // „Ç§„Éô„É≥„Éà„ÅÆ„Éê„Éñ„É™„É≥„Ç∞„ÇíÈòªÊ≠¢
      e.stopPropagation();
  
      removeAllActiveButtons();
  
      // „ÇØ„É™„ÉÉ„ÇØ„Åï„Çå„ÅüË¶ÅÁ¥†„Åå„Éú„Çø„É≥Ëá™‰Ωì„Åß„ÅØ„Å™„ÅèÂ≠êË¶ÅÁ¥†„ÅÆÂ†¥Âêà„ÄÅclosest„Çí‰ΩøÁî®„Åó„Å¶„Éú„Çø„É≥Ë¶ÅÁ¥†„ÇíÂèñÂæó
      const buttonElement = e.target.closest(".apply-style__options-button");
  
      // „Éú„Çø„É≥„ÅÆ„Ç¢„ÇØ„ÉÜ„Ç£„ÉñÁä∂ÊÖã„Çí„Éà„Ç∞„É´„Åô„Çã
      const isActive = buttonElement.classList.toggle("active");
      if (isActive) {
        overlay.classList.remove("hidden");
        document.body.classList.add("menu-open");
        // „Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å´„Å™„Å£„Åü„Å®„Åç
        // if (popup) {
        //   popup.style.display = "none";
        // }
        // if (menu) {
        //   menu.style.display = "block";
        // }
      } else {
        // „Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Åß„Å™„ÅÑ„Å®„ÅçÔºàÂà•„ÅÆÂá¶ÁêÜ„ÅåÂøÖË¶Å„Å™Â†¥Âêà„ÅÆ„ÅøÔºâ
        overlay.classList.add("hidden");
        document.body.classList.remove("menu-open");
      }
  
      // ‰ªñ„ÅÆ„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å™È†ÖÁõÆ„ÇíÈùû„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å´„Åô„Çã
      removeAllActiveItems();
    });
    applyStyleDeleteButton.addEventListener("click", function (e) {
      e.stopPropagation(); // „Ç§„Éô„É≥„Éà„Éê„Éñ„É™„É≥„Ç∞„ÇíÈò≤„Åê
      const envValue = newItem.getAttribute("data-env");
      let itemToDelete = document.querySelector(
        `.apply-style__item[data-env="${envValue}"]`
      ); // DOM Ë¶ÅÁ¥†„ÇíÂèñÂæó
      if (itemToDelete) {
        itemToDelete.remove(); // DOM Ë¶ÅÁ¥†„ÇíÂâäÈô§
      }
      parent.postMessage(
        {
          pluginMessage: {
            type: "delete-style",
            env: newItem.getAttribute("data-env"),
          },
        },
        "*"
      );
    });
  
    // „Éï„Ç©„É≥„Éà„Çπ„Çø„Ç§„É´ÊÉÖÂ†±„Çí„Åù„Çå„Åû„Çå„ÅÆ„Éâ„É≠„ÉÉ„Éó„ÉÄ„Ç¶„É≥„Åã„ÇâÂèñÂæó
    const japaneseFontFamily = document
      .querySelector('[data-lang="Japanese"] [data-label-type="font-family"]')
      .textContent.trim();
    const japaneseFontWeight = document
      .querySelector('[data-lang="Japanese"] [data-label-type="font-weight"]')
      .textContent.trim();
    const englishFontFamily = document
      .querySelector('[data-lang="English"] [data-label-type="font-family"]')
      .textContent.trim();
    const englishFontWeight = document
      .querySelector('[data-lang="English"] [data-label-type="font-weight"]')
      .textContent.trim();
  
    // ÂêÑË®ÄË™û„ÅÆ„Éï„Ç©„É≥„ÉàË®≠ÂÆö„ÇíÊ†ºÁ¥ç„Åô„Çã„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çí‰ΩúÊàê„Åó„Åæ„Åô
    const fontSettings = {
      Japanese: {
        fontFamily: japaneseFontFamily,
        fontWeight: japaneseFontWeight,
      },
      English: {
        fontFamily: englishFontFamily,
        fontWeight: englishFontWeight,
      },
    };
    // „Çπ„Çø„Ç§„É´Âêç„Å®„Éï„Ç©„É≥„ÉàË®≠ÂÆö„ÇíFigma„Éó„É©„Ç∞„Ç§„É≥„ÅÆ„É°„Ç§„É≥„Ç≥„Éº„Éâ„Å´ÈÄÅ‰ø°
    parent.postMessage(
      {
        pluginMessage: {
          type: "save-style",
          styleName: styleName,
          fontSettings: fontSettings,
          key: timestamp, // „Åì„ÅÆÈÉ®ÂàÜ„ÅØ„É¶„Éº„Ç∂„Éº„ÅÆID„ÇÑ‰∏ÄÊÑè„ÅÆË≠òÂà•Â≠ê„Çí‰ΩøÁî®
        },
      },
      "*"
    );
    styleNameInput.value = "";
  });
  
  // Apply„Éú„Çø„É≥„ÅÆË¶ÅÁ¥†„ÇíÂèñÂæó„Åó„ÄÅ„Éá„Éï„Ç©„É´„Éà„Åß„ÅØÁÑ°ÂäπÂåñ„Åô„Çã
  const applyBtn = document.getElementById("applyBtn");
  applyBtn.disabled = true; // ÂàùÊúüÁä∂ÊÖã„Å®„Åó„Å¶„Éú„Çø„É≥„ÇíÁÑ°ÂäπÂåñ
  // UI„ÅÆHTML‰∏≠„ÅÆ„Çπ„ÇØ„É™„Éó„Éà„ÅØ‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åô„ÄÇ
  // UI„Åã„ÇâÈÄÅ„Çâ„Çå„Çã„É°„ÉÉ„Çª„Éº„Ç∏„ÅØ„ÄÅ‰∏äË®ò figma.ui.onmessage „Åß„É™„ÉÉ„Çπ„É≥„Åï„Çå„Åæ„Åô„ÄÇ
  // When the button is clicked, the plugin will start the text analysis and update
  applyBtn.addEventListener("click", () => {
    const cloneLayerName = `${layerName}_${selectedName}`;
    console.log(cloneLayerName);
    parent.postMessage(
      {
        pluginMessage: {
          type: "analyzeAndUpdateText",
          selectedStyleName: selectedName,
          key: selectedEnv,
          layerName: cloneLayerName,
        },
      },
      "*"
    );
  });
  
  // „Åô„Åπ„Å¶„ÅÆ„Éú„Çø„É≥„ÅÆ„Ç¢„ÇØ„ÉÜ„Ç£„ÉñÁä∂ÊÖã„ÇíËß£Èô§„Åô„ÇãÈñ¢Êï∞
  function removeAllActiveButtons() {
    document
      .querySelectorAll(".apply-style__options-button.active")
      .forEach((activeButton) => {
        activeButton.classList.remove("active");
      });
  }
  
  // „Åô„Åπ„Å¶„ÅÆ„Ç¢„Ç§„ÉÜ„É†„ÅÆ„Ç¢„ÇØ„ÉÜ„Ç£„ÉñÁä∂ÊÖã„ÇíËß£Èô§„Åô„ÇãÈñ¢Êï∞
  function removeAllActiveItems() {
    document
      .querySelectorAll(".apply-style__item.active")
      .forEach((activeItem) => {
        activeItem.classList.remove("active");
      });
  }
  
  // „Éâ„Ç≠„É•„É°„É≥„ÉàÂÖ®‰Ωì„ÅÆ„ÇØ„É™„ÉÉ„ÇØ„Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº„ÇíËøΩÂä†
  document.addEventListener(
    "click",
    (e) => {
      // „ÇØ„É™„ÉÉ„ÇØ„Åå.apply-style__item or .apply-style__options-buttonË¶ÅÁ¥†„ÅÆÂÜÖÈÉ®„Åß„Å™„Åë„Çå„Å∞„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„ÇØ„É©„Çπ„ÇíÂâäÈô§
      if (
        !e.target.closest(".apply-style__item") ||
        !e.target.closest(".apply-style__options-button")
      ) {
        // ‰ªñ„ÅÆ„Ç¢„Ç§„ÉÜ„É†„ÅÆ„Ç¢„ÇØ„ÉÜ„Ç£„ÉñÁä∂ÊÖã„ÇíËß£Èô§
        // removeShowMenu();
        removeAllActiveItems();
        removeAllActiveButtons();
        selectedEnv = null;
        // „Éú„Çø„É≥„ÅÆÁä∂ÊÖã„ÇíÊõ¥Êñ∞
        updateButtonState();
      }
    },
    false
  );
  
  // „É°„Éã„É•„Éº„ÇíÈùûË°®Á§∫„Å´„Åô„Çã„Åü„ÇÅ„ÅÆÈñ¢Êï∞
  function hideMenu() {
    // Apply styles „ÅÆ menu „ÇíÈùûË°®Á§∫„Å´„Åô„Çã
    document.querySelectorAll(".menu").forEach((menu) => {
      menu.style.display = "none";
    });
    // Create styles „ÅÆ font-style / font-weight menu „ÇíÈùûË°®Á§∫„Å´„Åô„Çã
    document.querySelectorAll(".create-style__font-menu").forEach((menu) => {
      menu.classList.add("hidden");
    });
  
    // „Ç™„Éº„Éê„Éº„É¨„Ç§„ÇíÈùûË°®Á§∫„Å´„Åô„Çã
    overlay.classList.add("hidden");
  
    // „É°„Éã„É•„Éº„ÅåÈñã„ÅÑ„Å¶„ÅÑ„ÇãÁä∂ÊÖã„ÇØ„É©„Çπ„Çíbody„Åã„ÇâÂâäÈô§
    document.body.classList.remove("menu-open");
  
    // „Åô„Åπ„Å¶„ÅÆ„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å™„É°„Éã„É•„Éº„Éú„Çø„É≥„ÅÆÁä∂ÊÖã„Çí„É™„Çª„ÉÉ„Éà
    const activeButtons = document.querySelectorAll(
      ".apply-style__options-button.active"
    );
    activeButtons.forEach((button) => {
      button.classList.remove("active");
    });
  }
  
  // „Ç™„Éº„Éê„Éº„É¨„Ç§„Åå„ÇØ„É™„ÉÉ„ÇØ„Åï„Çå„ÅüÊôÇ„Å´„É°„Éã„É•„Éº„ÇíÈùûË°®Á§∫„Å´„Åô„Çã„Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº„ÇíËøΩÂä†
  overlay.addEventListener("click", hideMenu);
  
  // „Ç¢„Ç§„ÉÜ„É†„ÅÆ„ÇØ„É™„ÉÉ„ÇØ„Ç§„Éô„É≥„Éà„ÇíË®≠ÂÆö
  applyStyleItems.forEach((item) => {
    item.addEventListener("click", (e) => {
      // „ÇØ„É™„ÉÉ„ÇØ„Ç§„Éô„É≥„Éà„ÅÆ„Éê„Éñ„É™„É≥„Ç∞„ÇíÊ≠¢„ÇÅ„Çã
      e.stopPropagation();
  
      // ‰ªñ„ÅÆ„Ç¢„Ç§„ÉÜ„É†„ÅÆ„Ç¢„ÇØ„ÉÜ„Ç£„ÉñÁä∂ÊÖã„ÇíËß£Èô§
      removeAllActiveItems();
      removeAllActiveButtons();
  
      // „ÇØ„É™„ÉÉ„ÇØ„Åï„Çå„Åü„Ç¢„Ç§„ÉÜ„É†„Å´„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„ÇØ„É©„Çπ„ÇíÂàá„ÇäÊõø„Åà
      item.classList.toggle("active");
      selectedEnv = item.getAttribute("data-env"); // Áí∞Â¢É„ÇíÂèñÂæó
  
      // „Éú„Çø„É≥„ÅÆÁä∂ÊÖã„ÇíÊõ¥Êñ∞
      updateButtonState();
    });
  });
  
  // Apply„Éú„Çø„É≥„ÅÆÊúâÂäπ/ÁÑ°Âäπ„Çπ„ÉÜ„Éº„Çø„Çπ„ÇíÊõ¥Êñ∞„Åô„ÇãÈñ¢Êï∞
  function updateButtonState() {
    // selectedEnv„Åånull„Åß„Å™„ÅÑ„Åã„Çí„ÉÅ„Çß„ÉÉ„ÇØ„Åó„Å¶„ÄÅisEnvSelected„ÇíÊõ¥Êñ∞„Åô„Çã
    isEnvSelected = selectedEnv !== null;
    // Apply„Éú„Çø„É≥„ÅØÁí∞Â¢É„ÅåÈÅ∏Êäû„Åï„Çå„ÄÅ‰Ωï„Åã„ÅåÈÅ∏Êäû„Åï„Çå„Å¶„ÅÑ„ÇãÂ†¥Âêà„ÅÆ„ÅøÊ¥ªÊÄßÂåñ„Åô„Çã
    applyBtn.disabled = !(isEnvSelected && hasSelection);
  
    if (isEnvSelected && hasSelection) {
      applyBtn.classList.remove("disabled");
      applyBtn.classList.add("active");
    } else {
      applyBtn.classList.remove("active");
      applyBtn.classList.add("disabled");
    }
  }
</script>
